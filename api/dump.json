[
  {
    "__docId__": 0,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/bin/faster-ti-install.js",
    "memberof": null,
    "longname": "src/bin/faster-ti-install.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import 'shelljs/global'\nimport {resolve} from 'path'\nimport chalk from 'chalk'\nconst log = (str, color) => console.log(color ? chalk[color](str) : str)\n\nfunction run() {\n    log('begin installing faster-titanium')\n    const tiPath = which('titanium')\n    if (!tiPath) {\n        log('titanium command not found. Finish installation.', 'red')\n        return\n    }\n\n    const hookPath = resolve(__dirname, '../../dist/hook/faster.js')\n    const ticonf = JSON.parse(exec(`${tiPath} config -o json`, {silent: true}).output)\n\n    if (ticonf['paths.hooks'] && ticonf['paths.hooks'].indexOf(hookPath) >= 0) {\n        log('faster-titanium is already installed in titanium hook.', 'yellow')\n        return\n    }\n\n    const result = exec(`${tiPath} -q config paths.hooks -a ${hookPath}`)\n\n    if (result.code) {\n        log('Install failed.', 'red')\n        console.log(result)\n    }\n    else {\n        log('Install succeeded!', 'green')\n    }\n}\n\nif (require.main === module) run()\n"
  },
  {
    "__docId__": 1,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "log",
    "memberof": "src/bin/faster-ti-install.js",
    "longname": "src/bin/faster-ti-install.js~log",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/bin/faster-ti-install.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 2,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "run",
    "memberof": "src/bin/faster-ti-install.js",
    "longname": "src/bin/faster-ti-install.js~run",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/bin/faster-ti-install.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 3,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/bin/faster-ti-installed.js",
    "memberof": null,
    "longname": "src/bin/faster-ti-installed.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import 'shelljs/global'\nimport {resolve} from 'path'\nimport chalk from 'chalk'\nconst log = (str, color) => console.log(color ? chalk[color](str) : str)\n\nfunction run() {\n    log('checking if faster-titanium is installed in titanium hook...')\n    const tiPath = which('titanium')\n    if (!tiPath) {\n        log('titanium command not found. Finish checking.')\n        return\n    }\n\n    const hookPath = resolve(__dirname, '../../dist/hook/faster.js')\n    const ticonf = JSON.parse(exec(`${tiPath} config -o json`, {silent: true}).output)\n\n    if (ticonf['paths.hooks'] && ticonf['paths.hooks'].indexOf(hookPath) >= 0) {\n        log('faster-titanium is already installed in titanium hook.', 'green')\n        return\n    }\n    log('Not installed yet. Install with the following command.\\n', 'yellow')\n    log('faster-ti install')\n}\n\nif (require.main === module) run()\n"
  },
  {
    "__docId__": 4,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "log",
    "memberof": "src/bin/faster-ti-installed.js",
    "longname": "src/bin/faster-ti-installed.js~log",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/bin/faster-ti-installed.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 5,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "run",
    "memberof": "src/bin/faster-ti-installed.js",
    "longname": "src/bin/faster-ti-installed.js~run",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/bin/faster-ti-installed.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 6,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/bin/faster-ti-restart.js",
    "memberof": null,
    "longname": "src/bin/faster-ti-restart.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import program from 'commander'\nimport {statSync as stat, readFileSync as read} from 'fs'\nimport {resolve} from 'path'\nimport MainProcess from '../server/main-process'\nimport chalk from 'chalk'\nconst log = (str, color) => console.log(color ? chalk[color](str) : str)\n\nprogram\n    .arguments('[proj-dir]')\n    .option('-f, --fport <port number>', 'port number of the http server', parseInt)\n    .option('-n, --nport <port number>', 'port number of the notification server', parseInt)\n    .option('-p, --platform <platform name>', 'ios|android')\n    .option('-t, --token <token>', 'access token')\n    .parse(process.argv)\n\n\nfunction run() {\n\n    const projDir = program.args[0]\n    if (!projDir) return program.help()\n\n    const hasOptions = ['fport', 'nport', 'platform', 'token'].every(opt => {\n        const hasValue = program[opt] != null\n        return hasValue || log(`\"${opt}\" option wasn't passed.`, 'yellow')\n    })\n    if (!hasOptions) return program.help()\n\n    const opts = {\n        fPort: program.fport,\n        nPort: program.nport,\n        host:  'localhost',\n        platform: program.platform,\n        token: program.token\n    }\n\n    const absProjDir = absolutePath(projDir)\n\n    if (!isDirectory(absProjDir)) {\n        log(`${absProjDir} is not a valid directory.`, 'red')\n        program.help()\n        return\n    }\n\n    showLogo()\n\n    const ftProcess = new MainProcess(absProjDir, opts)\n\n    ftProcess.launchServers()\n    ftProcess.run()\n    log(`FasterTitanium successfully launched.`, 'green')\n    log(`\\thttp server url: ${ftProcess.url}`, 'green')\n    log(`\\tproject dir: ${ftProcess.projDir}`, 'green')\n    log(`\\tplatform: ${ftProcess.platform}`, 'green')\n    log(`\\tnotification server port: ${ftProcess.nPort}`, 'green')\n    log(`\\taccess token: ${ftProcess.token}`, 'green')\n}\n\nexport function showLogo() {\n    log(read(__dirname + '/../../doc/txt-logo', 'utf8'), 'green')\n    const {version, author} = require(__dirname + '/../../package.json')\n    log(`\\tFasterTitanium ${version} by ${author} Accelerate Titanium development.\\n`, 'green')\n}\n\n\n/**\n * @param {string}\n * @return {string}\n */\nfunction absolutePath(relPath) {\n    if (relPath.charAt(0) === '/') return resolve(relPath)\n    return resolve(process.cwd(), relPath)\n}\n\n\n/**\n * @param {string}\n * @return {boolean}\n */\nfunction isDirectory(dir) {\n    try {\n        return stat(dir).isDirectory\n    }\n    catch (e) {\n        return false\n    }\n}\n\nif (require.main === module) run()\n"
  },
  {
    "__docId__": 7,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "log",
    "memberof": "src/bin/faster-ti-restart.js",
    "longname": "src/bin/faster-ti-restart.js~log",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/bin/faster-ti-restart.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 8,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "run",
    "memberof": "src/bin/faster-ti-restart.js",
    "longname": "src/bin/faster-ti-restart.js~run",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/bin/faster-ti-restart.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 9,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "showLogo",
    "memberof": "src/bin/faster-ti-restart.js",
    "longname": "src/bin/faster-ti-restart.js~showLogo",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/bin/faster-ti-restart.js",
    "importStyle": "{showLogo}",
    "description": null,
    "lineNumber": 58,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 10,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "absolutePath",
    "memberof": "src/bin/faster-ti-restart.js",
    "longname": "src/bin/faster-ti-restart.js~absolutePath",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/bin/faster-ti-restart.js",
    "importStyle": null,
    "description": "",
    "lineNumber": 69,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 11,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "isDirectory",
    "memberof": "src/bin/faster-ti-restart.js",
    "longname": "src/bin/faster-ti-restart.js~isDirectory",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/bin/faster-ti-restart.js",
    "importStyle": null,
    "description": "",
    "lineNumber": 79,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 12,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/bin/faster-ti-uninstall.js",
    "memberof": null,
    "longname": "src/bin/faster-ti-uninstall.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import 'shelljs/global'\nimport {resolve} from 'path'\nimport chalk from 'chalk'\nconst log = (str, color) => console.log(color ? chalk[color](str) : str)\n\nfunction run() {\n    log('begin uninstalling faster-titanium')\n    const tiPath = which('titanium')\n    if (!tiPath) {\n        log('titanium command not found. Finish installation.', 'red')\n        return\n    }\n\n    const hookPath = resolve(__dirname, '../../dist/hook/faster.js')\n    const result = exec(`${tiPath} -q config paths.hooks -r ${hookPath}`)\n\n    if (result.code) {\n        log('Uninstall failed.', 'red')\n        console.log(result)\n    }\n    else {\n        log('Uninstall succeeded.', 'green')\n    }\n}\n\nif (require.main === module) run()\n"
  },
  {
    "__docId__": 13,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "log",
    "memberof": "src/bin/faster-ti-uninstall.js",
    "longname": "src/bin/faster-ti-uninstall.js~log",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/bin/faster-ti-uninstall.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 14,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "run",
    "memberof": "src/bin/faster-ti-uninstall.js",
    "longname": "src/bin/faster-ti-uninstall.js~run",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/bin/faster-ti-uninstall.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 15,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/common/alloy-compilation-state.js",
    "memberof": null,
    "longname": "src/common/alloy-compilation-state.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\n\n/**\n * Memorize alloy compilation state (start/finish)\n */\nexport default class AlloyCompilationState {\n\n    constructor(timeout = 5000) {\n        if (timeout === false) {\n            timeout = 1000 * 3600 * 24 // 1day (= never called)\n        }\n        this.tokens = {}\n        this.timeout = timeout\n    }\n\n    /**\n     * memorize start of alloy compilation\n     * @param {string} token identifier\n     */\n    started(token) {\n\n        const timer = setTimeout(x => {\n\n            delete this.tokens[token]\n\n        }, this.timeout)\n\n        this.tokens[token] = timer\n    }\n\n\n    /**\n     * clear alloy compilation memory\n     * @param {string} token identifier\n     */\n    finished(token) {\n        if (this.tokens[token]) {\n            clearTimeout(this.tokens[token])\n            delete this.tokens[token]\n        }\n    }\n\n    /**\n     * is alloy compiling\n     * @type {boolean}\n     */\n    get compiling() {\n        return Object.keys(this.tokens).length > 0\n    }\n}\n"
  },
  {
    "__docId__": 16,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "AlloyCompilationState",
    "memberof": "src/common/alloy-compilation-state.js",
    "longname": "src/common/alloy-compilation-state.js~AlloyCompilationState",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/common/alloy-compilation-state.js",
    "importStyle": "AlloyCompilationState",
    "description": "Memorize alloy compilation state (start/finish)",
    "lineNumber": 6,
    "interface": false
  },
  {
    "__docId__": 17,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/common/alloy-compilation-state.js~AlloyCompilationState",
    "longname": "src/common/alloy-compilation-state.js~AlloyCompilationState#constructor",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "timeout",
        "optional": true,
        "types": [
          "number"
        ],
        "defaultRaw": 5000,
        "defaultValue": "5000"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 18,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "tokens",
    "memberof": "src/common/alloy-compilation-state.js~AlloyCompilationState",
    "longname": "src/common/alloy-compilation-state.js~AlloyCompilationState#tokens",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 19,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "timeout",
    "memberof": "src/common/alloy-compilation-state.js~AlloyCompilationState",
    "longname": "src/common/alloy-compilation-state.js~AlloyCompilationState#timeout",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 20,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "started",
    "memberof": "src/common/alloy-compilation-state.js~AlloyCompilationState",
    "longname": "src/common/alloy-compilation-state.js~AlloyCompilationState#started",
    "access": null,
    "description": "memorize start of alloy compilation",
    "lineNumber": 20,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": "identifier"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 21,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "finished",
    "memberof": "src/common/alloy-compilation-state.js~AlloyCompilationState",
    "longname": "src/common/alloy-compilation-state.js~AlloyCompilationState#finished",
    "access": null,
    "description": "clear alloy compilation memory",
    "lineNumber": 36,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": "identifier"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 22,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "compiling",
    "memberof": "src/common/alloy-compilation-state.js~AlloyCompilationState",
    "longname": "src/common/alloy-compilation-state.js~AlloyCompilationState#compiling",
    "access": null,
    "description": "is alloy compiling",
    "lineNumber": 47,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 23,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/common/preferences.js",
    "memberof": null,
    "longname": "src/common/preferences.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "'use strict'\n\nconst AUTO_RELOAD  = 1\nconst AUTO_REFLECT = 2\nconst MANUAL       = 3\n\nexport default class Preferences {\n\n    static get selections() {\n        return {\n            AUTO_RELOAD,\n            AUTO_REFLECT,\n            MANUAL\n        }\n    }\n\n    static get expressions() {\n        return {\n            [AUTO_RELOAD]: 'auto-reload',\n            [AUTO_REFLECT]: 'auto-reflect',\n            [MANUAL]: 'manual'\n        }\n    }\n\n    static get descriptions() {\n        return {\n            [AUTO_RELOAD]: 'Reload everytime a file changes.',\n            [AUTO_REFLECT]: 'Clear loaded modules in Titanium everytime a file changes (this may clear internal variables).',\n            [MANUAL]: 'Do nothing.'\n        }\n    }\n\n\n    constructor(options = {}) {\n        const {loadStyleNum = AUTO_RELOAD, tiDebug = false, serverLog = true, localLog = false} = options\n\n        /** @type {number} load style type */\n        this.loadStyleNum = loadStyleNum\n        /** @type {boolean} whether to show titanium log in server console */\n        this.tiDebug = tiDebug\n        /** @type {boolean} whether to show titanium log in server console */\n        this.serverLog = serverLog\n        /** @type {boolean} whether to show titanium log in titanium console */\n        this.localLog = localLog\n    }\n\n    apply(params = {}) {\n        Object.keys(this).forEach(key => {\n            const newValue = params[key]\n            if(typeof newValue === typeof this[key]) this[key] = newValue\n        })\n    }\n\n\n    get tiDebugNum() {\n        return Number(this.tiDebug)\n    }\n\n\n    get style() {\n        return this.constructor.expressions[this.loadStyleNum]\n    }\n}\n"
  },
  {
    "__docId__": 24,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "AUTO_RELOAD",
    "memberof": "src/common/preferences.js",
    "longname": "src/common/preferences.js~AUTO_RELOAD",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/common/preferences.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 25,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "AUTO_REFLECT",
    "memberof": "src/common/preferences.js",
    "longname": "src/common/preferences.js~AUTO_REFLECT",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/common/preferences.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 26,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "MANUAL",
    "memberof": "src/common/preferences.js",
    "longname": "src/common/preferences.js~MANUAL",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/common/preferences.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 27,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Preferences",
    "memberof": "src/common/preferences.js",
    "longname": "src/common/preferences.js~Preferences",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/common/preferences.js",
    "importStyle": "Preferences",
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 28,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "selections",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences.selections",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 29,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "expressions",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences.expressions",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 30,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "descriptions",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences.descriptions",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 31,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences#constructor",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 32,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "loadStyleNum",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences#loadStyleNum",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 33,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "tiDebug",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences#tiDebug",
    "access": null,
    "description": null,
    "lineNumber": 40,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 34,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "serverLog",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences#serverLog",
    "access": null,
    "description": null,
    "lineNumber": 42,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 35,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "localLog",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences#localLog",
    "access": null,
    "description": null,
    "lineNumber": 44,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 36,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "apply",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences#apply",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "params": [
      {
        "name": "params",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 37,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "tiDebugNum",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences#tiDebugNum",
    "access": null,
    "description": null,
    "lineNumber": 55,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 38,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "style",
    "memberof": "src/common/preferences.js~Preferences",
    "longname": "src/common/preferences.js~Preferences#style",
    "access": null,
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 39,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/common/util.js",
    "memberof": null,
    "longname": "src/common/util.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport { join, resolve, } from 'path'\nimport 'alloy/Alloy/common/constants' // it must be imported before alloy/platforms/index\nimport platforms from 'alloy/platforms/index' // TODO: prepare original object\n\nconst folderNames = Object.keys(platforms).map(p => platforms[p].titaniumFolder)\nfolderNames.push('') // for Resources/app.js\n/**\n * @param {string} projectDir absolute path to the titanium project directory\n * @param {string} path absolute path to the path in Resources\n * @return {boolean} is app.js\n */\nexport function isAppJS(projectDir, path) {\n\n    projectDir = resolve(projectDir)\n    path = resolve(path)\n\n    return folderNames\n        .map(name => join(projectDir, 'Resources', name, 'app.js'))\n        .some(appPath => path === appPath)\n}\n\nexport function getPlatformDirname(platform) {\n    const platformInfo = platforms[platform]\n    if (!platformInfo) {\n        throw new Error(`no platform found: ${platform}`)\n    }\n    return platformInfo.titaniumFolder\n}\n\nexport function modNameByPath(path, projectDir, platform) {\n    let relative = path.split(projectDir + '/Resources/')[1]\n\n    if (!relative) {\n        throw new Error(`invalid path for module name: ${path}`)\n    }\n\n    if (relative.match(/\\.js$/)) {\n        relative = relative.slice(0, -3)\n    }\n\n    const platformDir = getPlatformDirname(platform)\n\n    if (relative.indexOf(platformDir + '/') === 0) {\n        return relative.split(platformDir + '/')[1]\n    }\n    return relative\n}\n"
  },
  {
    "__docId__": 40,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "folderNames",
    "memberof": "src/common/util.js",
    "longname": "src/common/util.js~folderNames",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/common/util.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 41,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "isAppJS",
    "memberof": "src/common/util.js",
    "longname": "src/common/util.js~isAppJS",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/common/util.js",
    "importStyle": "{isAppJS}",
    "description": "",
    "lineNumber": 13,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "projectDir",
        "description": "absolute path to the titanium project directory"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "absolute path to the path in Resources"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": "is app.js"
    },
    "generator": false
  },
  {
    "__docId__": 42,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "getPlatformDirname",
    "memberof": "src/common/util.js",
    "longname": "src/common/util.js~getPlatformDirname",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/common/util.js",
    "importStyle": "{getPlatformDirname}",
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "params": [
      {
        "name": "platform",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 43,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "modNameByPath",
    "memberof": "src/common/util.js",
    "longname": "src/common/util.js~modNameByPath",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/common/util.js",
    "importStyle": "{modNameByPath}",
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "params": [
      {
        "name": "path",
        "types": [
          "*"
        ]
      },
      {
        "name": "projectDir",
        "types": [
          "*"
        ]
      },
      {
        "name": "platform",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 44,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/hook/faster.js",
    "memberof": null,
    "longname": "src/hook/faster.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import 'shelljs/global'\nimport semver from 'semver'\nimport {join, resolve, dirname} from 'path'\nimport os from 'os'\nimport { writeFileSync as write,\n         readFileSync as read,\n         readdirSync as readDir,\n         existsSync as exists,\n         mkdirSync as mkdir } from 'fs'\nimport op from 'openport'\nimport MainProcess from '../server/main-process'\nimport { isAppJS } from '../common/util'\nimport chalk from 'chalk'\n\n/**\n * attach cli hooks to titanium CLI\n * this function must be named \"init\"\n *\n * ti build --faster [--ft-port 4157] [--ft-debug]\n * @public\n */\nexport function init(logger, config, cli) {\n\n    const scope = { logger, config, cli }\n\n    if (scope::multiplyRegistered()) {\n        logger.warn(`[FasterTitanium] hook registration duplicated. Suppressed one: ${__filename}`)\n        return;\n    }\n\n    const hooks = [\n\n        ['build.config', scope::attachFasterFlag],\n        ['build.pre.compile', scope::filter(isAlloyCompatible)],\n        ['build.pre.compile', scope::filter(showLogo)],\n        ['build.pre.compile', scope::filter(launchServers)], // attaches scope.ftProcess\n        // only ios and android have copyResource hook.\n        ['build.ios.copyResource',      { pre: scope::filter(manipulateAppJS) }],\n        ['build.android.copyResource',  { pre: scope::filter(manipulateAppJS) }],\n\n        ['build.post.compile', scope::filter(startWatching)],\n        ['build.post.compile', scope::filter(showServerInfo)]\n    ]\n\n    hooks.forEach(args => cli.addHook.apply(cli, args))\n}\n\n/**\n * check --faster flag, then execute given fn with error handling.\n * \"this\" is \"scope\" defined in \"init\" function.\n */\nexport function filter(fn) {\n\n    return (data, finished) => {\n        if (!this.cli.argv.faster) return finished(null, data)\n\n        try {\n            const result = this::fn(data)\n            if (result && result.then) {// ducktyping Promise\n                result\n                    .then(x => finished(null, data), finished)\n            }\n            else {\n                finished(null, data)\n            }\n        }\n        catch (e) {\n            finished(e)\n        }\n    }\n}\n\n/**\n * attach --faster flag\n * @private (export for test)\n */\nexport function attachFasterFlag(data) {\n\n    const { flags, options } = data.result[1]\n\n    flags.faster = { default: false, desc: 'enables faster rebuilding' }\n    flags['ft-debug']= { default: false, desc: 'faster titanium debug mode' }\n    options['ft-port'] = { default: 4157, desc: 'port number for faster-titanium http server. If not available, use another open port.' }\n}\n\n\n/**\n * attach --faster flag\n * @private (export for test)\n */\nexport function showLogo() {\n    console.log(chalk.red(read(__dirname + '/../../doc/txt-logo', 'utf8')))\n    const {version, author} = require(__dirname + '/../../package.json')\n    console.log(`\\tFasterTitanium ${version} by ${author} Accelerate Titanium development.\\n`)\n}\n\n\n/**\n * launch file/event servers to communicate with App\n * @return {Promise}\n */\nexport function launchServers(data) {\n\n    const { platform,\n            'ft-port': port = 4157,\n            'ft-debug': tiDebug = false,\n            'project-dir': projectDir } = this.cli.argv\n\n    return getPorts(port).then(ports => {\n\n        const optsForServer = {\n            platform,\n            fPort: ports[0],\n            nPort: ports[1],\n            host : getAddress(),\n            tiDebug\n        }\n        this.ftProcess = new MainProcess(projectDir, optsForServer)\n        return this.ftProcess.launchServers()\n    })\n}\n\n/**\n * @return {Promise}\n * @private\n */\nexport function getPorts(defaultPort) {\n\n    return new Promise((y, n) => {\n\n        op.find({\n            startingPort: defaultPort,\n            count: 2\n        }, (err, ports) => err ? n(err) : y(ports))\n    })\n}\n\n\n/**\n * original app.js => app.js with faster-titanium\n * @private (export for test)\n */\nexport function manipulateAppJS(data) {\n    const { 'project-dir': projectDir } = this.cli.argv\n\n    const [src, dest] = data.args\n\n    if (!isAppJS(projectDir, src)) return;\n\n    const newSrc = dirname(dest) + '/faster-titanium.js' // new src path is in build dir, just because it's temporary.\n\n    this.logger.info(`[FasterTitanium] manipulating app.js: attaching faster-titanium functions`)\n\n    data.args[0] = newSrc\n\n    const { fPort, nPort, host, token } = this.ftProcess\n\n    const code = generateNewAppJS(fPort, nPort, host, token)\n\n    write(newSrc, code)\n}\n\n\n/**\n * Generate new app.js code.\n * New app.js consists of bundled lib of faster-titanium and one line initializer\n * @private\n */\nexport function generateNewAppJS(fPort, nPort, host, token) {\n\n    const opts = JSON.stringify({ fPort, nPort, host, token })\n\n    const initialCode = `Ti.FasterTitanium.run(this, ${opts})`\n    const tiEntry = resolve(__dirname, '../../dist/titanium/faster-titanium.bundle.js')\n\n    return [read(tiEntry, 'utf8'), initialCode].join('\\n')\n}\n\n/**\n * start watching files\n */\nexport function startWatching() {\n    this.ftProcess.run()\n}\n\n\n/**\n * show server information\n */\nexport function showServerInfo() {\n    this.logger.info(`\n\n        URL for FasterTitanium Web UI\n        ${chalk.green(this.ftProcess.url)}\n    `)\n}\n\n\n\n\n/**\n * @returns {string} IP Adress (v4)\n * @private (export for test)\n */\nexport function getAddress() {\n\n    const interfaces = os.networkInterfaces();\n\n    for (let k in interfaces) {\n        let itf = interfaces[k]\n        for (let j in itf) {\n            if (itf[j].family === 'IPv4' && !itf[j].internal) {\n                return itf[j].address\n            }\n        }\n    }\n    return 'localhost'\n}\n\n\n/**\n * check duplication of hook registration\n */\nexport function multiplyRegistered() {\n    const index = this.config.paths.hooks\n        .filter(path => path.match(/faster-titanium\\/dist\\/hook\\/faster\\.js$/))\n        .indexOf(__filename)\n\n    return index > 0\n}\n\n\n/**\n * Check if global alloy compatible with faster-titanium\n * Kill this process if not compatible.\n * Global alloy is used to compile at first build in faster-titanium.\n * Subsequent builds are done by alloy in faster-titanium's node_modules.\n * If two alloy versions mismatch, the app can be broken.\n *\n */\nexport function isAlloyCompatible() {\n\n    const alloyPath = which('alloy')\n\n    const alloyVer = alloyPath && exec(`${alloyPath} -v`, {silent: true}).stdout.trim()\n    if (!alloyVer) return; // no alloy: OK\n\n    const isGlobalAlloy = !!alloyPath.match('^/usr')\n\n    const versionRange = '>=1.7'\n\n    const isCompatible = semver.valid(alloyVer) && semver.satisfies(alloyVer, versionRange)\n\n    if (!isCompatible) {\n        this.logger.error(`\n            Invalid alloy version \"${alloyVer}\".\n            (alloy path = ${alloyPath})\n\n            To get \"--faster\" option enabled, global alloy version must satisfy with \"${versionRange}\".\n\n                npm install ${isGlobalAlloy ? '-g ' : ''}alloy\n        `)\n        process.exit(1)\n    }\n}\n"
  },
  {
    "__docId__": 45,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "init",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~init",
    "access": "public",
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{init}",
    "description": "attach cli hooks to titanium CLI\nthis function must be named \"init\"\n\nti build --faster [--ft-port 4157] [--ft-debug]",
    "lineNumber": 22,
    "params": [
      {
        "name": "logger",
        "types": [
          "*"
        ]
      },
      {
        "name": "config",
        "types": [
          "*"
        ]
      },
      {
        "name": "cli",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 46,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "filter",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~filter",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{filter}",
    "description": "check --faster flag, then execute given fn with error handling.\n\"this\" is \"scope\" defined in \"init\" function.",
    "lineNumber": 52,
    "params": [
      {
        "name": "fn",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 47,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "attachFasterFlag",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~attachFasterFlag",
    "access": "private",
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{attachFasterFlag}",
    "description": "attach --faster flag",
    "lineNumber": 77,
    "params": [
      {
        "name": "data",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 48,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "showLogo",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~showLogo",
    "access": "private",
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{showLogo}",
    "description": "attach --faster flag",
    "lineNumber": 91,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 49,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "launchServers",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~launchServers",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{launchServers}",
    "description": "launch file/event servers to communicate with App",
    "lineNumber": 102,
    "params": [
      {
        "name": "data",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 50,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "getPorts",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~getPorts",
    "access": "private",
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{getPorts}",
    "description": "",
    "lineNumber": 127,
    "params": [
      {
        "name": "defaultPort",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 51,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "manipulateAppJS",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~manipulateAppJS",
    "access": "private",
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{manipulateAppJS}",
    "description": "original app.js => app.js with faster-titanium",
    "lineNumber": 143,
    "params": [
      {
        "name": "data",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 52,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "generateNewAppJS",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~generateNewAppJS",
    "access": "private",
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{generateNewAppJS}",
    "description": "Generate new app.js code.\nNew app.js consists of bundled lib of faster-titanium and one line initializer",
    "lineNumber": 169,
    "params": [
      {
        "name": "fPort",
        "types": [
          "*"
        ]
      },
      {
        "name": "nPort",
        "types": [
          "*"
        ]
      },
      {
        "name": "host",
        "types": [
          "*"
        ]
      },
      {
        "name": "token",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 53,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "startWatching",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~startWatching",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{startWatching}",
    "description": "start watching files",
    "lineNumber": 182,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 54,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "showServerInfo",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~showServerInfo",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{showServerInfo}",
    "description": "show server information",
    "lineNumber": 190,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 55,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "getAddress",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~getAddress",
    "access": "private",
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{getAddress}",
    "description": "",
    "lineNumber": 205,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string} IP Adress (v4)"
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "IP Adress (v4)"
    },
    "generator": false
  },
  {
    "__docId__": 56,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "multiplyRegistered",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~multiplyRegistered",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{multiplyRegistered}",
    "description": "check duplication of hook registration",
    "lineNumber": 224,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 57,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "isAlloyCompatible",
    "memberof": "src/hook/faster.js",
    "longname": "src/hook/faster.js~isAlloyCompatible",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/hook/faster.js",
    "importStyle": "{isAlloyCompatible}",
    "description": "Check if global alloy compatible with faster-titanium\nKill this process if not compatible.\nGlobal alloy is used to compile at first build in faster-titanium.\nSubsequent builds are done by alloy in faster-titanium's node_modules.\nIf two alloy versions mismatch, the app can be broken.",
    "lineNumber": 241,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 58,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/alloy-compiler.js",
    "memberof": null,
    "longname": "src/server/alloy-compiler.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport {exec} from 'child_process'\nimport {relative, resolve} from 'path'\nimport debug from 'debug'\nimport AlloyCompilationState from '../common/alloy-compilation-state'\nimport optimizeAlloy from './optimize-alloy'\nconst alloyPath = resolve(__dirname, '../../node_modules/.bin/alloy')\nconst P = f => new Promise(f)\nconst ____ = debug('faster-titanium:AlloyCompiler')\nconst ___x = debug('faster-titanium:AlloyCompiler:error')\nconst ___o = v => ____(v) || v\nconst wait = (msec => new Promise(y => setTimeout(y, msec)))\n\n\n/**\n * compiling alloy files\n */\nexport default class AlloyCompiler {\n\n    /**\n     * @param {string} projDir\n     */\n    constructor(projDir, platform) {\n        /** @type {string} */\n        this.projDir = projDir\n        this.platform = platform\n        this.acState = new AlloyCompilationState(false) // false: timeout = false\n        this.suppressAlloyLog()\n        this.suppressAlloyDeath()\n    }\n\n    /** @type {string} */\n    get alloyDir() {\n        return this.projDir + '/app'\n    }\n\n    /** @type {string} */\n    get alloyJSPath() {\n        return this.alloyDir + '/alloy.js'\n    }\n\n    /** @type {string} */\n    get configPath() {\n        return this.alloyDir + '/config.json'\n    }\n\n    /**\n     * is alloy compiling\n     * @type {boolean}\n     */\n    get compiling() {\n        return this.acState.compiling\n    }\n\n    /**\n     * suppress normal log in alloy compilation\n     */\n    suppressAlloyLog() {\n        const alloyLogger = require('alloy/Alloy/logger')\n        alloyLogger.logLevel = alloyLogger.WARN\n    }\n\n    /**\n     * suppress process being killed\n     */\n    suppressAlloyDeath() {\n        const alloyUtils = require('alloy/Alloy/utils');\n        alloyUtils.die = (str) => { throw new Error(str) }\n    }\n\n\n    /**\n     * @param {string} path\n     * @param {string} token identifier for this compilation\n     * @return {Promise<boolean>} compilation succeeded or not\n     */\n    compile(path, token) {\n\n        let compilation;\n\n        this.acState.started(token)\n\n        switch (path) {\n            case this.alloyJSPath:\n                compilation = this.compileAlloyJS()\n                break\n            case this.configPath:\n                compilation = this.compileConfig()\n                break\n            default:\n                compilation = this.compileFiles(path)\n                break\n        }\n\n        return compilation\n            .then(x => true, e => console.error('Alloy compilation failed.', e) || false)\n            .then(result => {\n                return wait(500).then(x => { // set some time lag for file watcher\n                    this.acState.finished(token)\n                    return result\n                })\n            })\n    }\n\n\n    /**\n     * @return {Promise}\n     * @todo change deploytype by input\n     * @private\n     */\n    compileAlloyJS() {\n\n        return this.compileFiles(this.alloyJSPath).then(() => {\n\n            const relPath = relative(this.projDir, this.alloyJSPath)\n\n            return optimizeAlloy(this.projDir, relPath, {platform: this.platform, deploytype: 'development'})\n        })\n    }\n\n    /**\n     * @return {Promise}\n     * @todo specific compilation\n     * @private\n     */\n    compileConfig() {\n        return this.compileAlloyJS()\n    }\n\n    /**\n     * @param {string} path\n     * @return {Promise}\n     * @private\n     */\n    compileFiles(path) {\n        const relPath = relative(this.projDir, path)\n        ____(`Start compilation: ${relPath}.`)\n        try {\n            require('alloy/Alloy/commands/compile/index')([], {config: `platform=${this.platform},file=${relPath}`})\n            return Promise.resolve()\n        }\n        catch (e) {\n            ___x(e)\n            return Promise.reject(e)\n        }\n    }\n}\n"
  },
  {
    "__docId__": 59,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "alloyPath",
    "memberof": "src/server/alloy-compiler.js",
    "longname": "src/server/alloy-compiler.js~alloyPath",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/alloy-compiler.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 60,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "P",
    "memberof": "src/server/alloy-compiler.js",
    "longname": "src/server/alloy-compiler.js~P",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/alloy-compiler.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 61,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "____",
    "memberof": "src/server/alloy-compiler.js",
    "longname": "src/server/alloy-compiler.js~____",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/alloy-compiler.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 62,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "___x",
    "memberof": "src/server/alloy-compiler.js",
    "longname": "src/server/alloy-compiler.js~___x",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/alloy-compiler.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 63,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "___o",
    "memberof": "src/server/alloy-compiler.js",
    "longname": "src/server/alloy-compiler.js~___o",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/alloy-compiler.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 64,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "wait",
    "memberof": "src/server/alloy-compiler.js",
    "longname": "src/server/alloy-compiler.js~wait",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/alloy-compiler.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 65,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "AlloyCompiler",
    "memberof": "src/server/alloy-compiler.js",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/alloy-compiler.js",
    "importStyle": "AlloyCompiler",
    "description": "compiling alloy files",
    "lineNumber": 18,
    "interface": false
  },
  {
    "__docId__": 66,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#constructor",
    "access": null,
    "description": "",
    "lineNumber": 23,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "projDir",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 67,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "projDir",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#projDir",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 68,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "platform",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#platform",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 69,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "acState",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#acState",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 70,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "alloyDir",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#alloyDir",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 71,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "alloyJSPath",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#alloyJSPath",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 72,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "configPath",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#configPath",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 73,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "compiling",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#compiling",
    "access": null,
    "description": "is alloy compiling",
    "lineNumber": 51,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 74,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "suppressAlloyLog",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#suppressAlloyLog",
    "access": null,
    "description": "suppress normal log in alloy compilation",
    "lineNumber": 58,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 75,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "suppressAlloyDeath",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#suppressAlloyDeath",
    "access": null,
    "description": "suppress process being killed",
    "lineNumber": 66,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 76,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "compile",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#compile",
    "access": null,
    "description": "",
    "lineNumber": 77,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": "identifier for this compilation"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<boolean>"
      ],
      "spread": false,
      "description": "compilation succeeded or not"
    },
    "generator": false
  },
  {
    "__docId__": 77,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "compileAlloyJS",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#compileAlloyJS",
    "access": "private",
    "description": "",
    "lineNumber": 111,
    "todo": [
      "change deploytype by input"
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 78,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "compileConfig",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#compileConfig",
    "access": "private",
    "description": "",
    "lineNumber": 126,
    "todo": [
      "specific compilation"
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 79,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "compileFiles",
    "memberof": "src/server/alloy-compiler.js~AlloyCompiler",
    "longname": "src/server/alloy-compiler.js~AlloyCompiler#compileFiles",
    "access": "private",
    "description": "",
    "lineNumber": 135,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 80,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/app-js-converter.js",
    "memberof": null,
    "longname": "src/server/app-js-converter.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "'use strict';\n\nimport { parse } from 'acorn'\n\n/**\n * parse original app.js and export variables to global\n */\nexport default class AppJsConverter {\n\n    /**\n     * @param {string} code JS code\n     */\n    constructor(code) {\n        /** @type {string} code */\n        this.code = code\n\n        /** @type {string[]} codeArr */\n        this.codeArr = String(this.code).split('');\n    }\n\n\n    /**\n     * convert varable declaration in top scope to this['varname'] expression\n     *\n     * before: var a, b = 12;\n     * after : this['a'] = undefined; this['b'] = 12;\n     *\n     * @return {string} new code\n     *\n     */\n    convert() {\n        parse(this.code, { ranges: true, ecmaVersion: 5 }).body\n            .filter(node => node.type === 'VariableDeclaration')\n\n            .map(vDeclaration => {\n\n                const newCode = vDeclaration.declarations.map(declarator => {\n\n                    const expression = (declarator.init)\n                        ? this.code.slice(...declarator.init.range)\n                        : 'undefined'\n\n                    return `this['${declarator.id.name}'] = ${expression};`\n\n                }).join(' ')\n\n                return { newCode, range: vDeclaration.range }\n            })\n            .forEach(info => { this.replace(info.newCode, info.range) })\n\n        return this.codeArr.join('')\n    }\n\n\n    /**\n     * @param {string} newCode\n     * @param {number[]} range\n     * @private\n     */\n    replace(newCode, range) {\n\n        let offset = range[0]\n\n        this.codeArr[offset] = newCode\n\n        for (let i = offset + 1; i < range[1]; i++) {\n            this.codeArr[i] = ''\n        }\n    }\n}\n"
  },
  {
    "__docId__": 81,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "AppJsConverter",
    "memberof": "src/server/app-js-converter.js",
    "longname": "src/server/app-js-converter.js~AppJsConverter",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/app-js-converter.js",
    "importStyle": "AppJsConverter",
    "description": "parse original app.js and export variables to global",
    "lineNumber": 8,
    "interface": false
  },
  {
    "__docId__": 82,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/app-js-converter.js~AppJsConverter",
    "longname": "src/server/app-js-converter.js~AppJsConverter#constructor",
    "access": null,
    "description": "",
    "lineNumber": 13,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "code",
        "description": "JS code"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 83,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "code",
    "memberof": "src/server/app-js-converter.js~AppJsConverter",
    "longname": "src/server/app-js-converter.js~AppJsConverter#code",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 84,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "codeArr",
    "memberof": "src/server/app-js-converter.js~AppJsConverter",
    "longname": "src/server/app-js-converter.js~AppJsConverter#codeArr",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "type": {
      "nullable": null,
      "types": [
        "string[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 85,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "convert",
    "memberof": "src/server/app-js-converter.js~AppJsConverter",
    "longname": "src/server/app-js-converter.js~AppJsConverter#convert",
    "access": null,
    "description": "convert varable declaration in top scope to this['varname'] expression\n\nbefore: var a, b = 12;\nafter : this['a'] = undefined; this['b'] = 12;",
    "lineNumber": 31,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "new code"
    },
    "generator": false
  },
  {
    "__docId__": 86,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "replace",
    "memberof": "src/server/app-js-converter.js~AppJsConverter",
    "longname": "src/server/app-js-converter.js~AppJsConverter#replace",
    "access": "private",
    "description": "",
    "lineNumber": 60,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "newCode",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number[]"
        ],
        "spread": false,
        "optional": false,
        "name": "range",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 87,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/content-responder.js",
    "memberof": null,
    "longname": "src/server/content-responder.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport { resolve } from 'path'\nimport { readFile } from 'fs'\nimport ResponseInfo from './response-info'\nimport ResourceLoader from './resource-loader'\nimport AppJsConverter from './app-js-converter'\n\n\n/**\n * return Promise of ResponseInfo by URL\n */\nexport default class ContentResponder {\n\n\n    constructor() {\n        this.caches = {}\n    }\n\n\n    /**\n     * create ResponseInfo\n     * @param {string|Buffer} content\n     * @param {string} [contentType=text/plain]\n     * @param {number} [statusCode=200]\n     * @return {Promise<ResponseInfo>}\n     */\n    respond(content, contentType, statusCode) {\n        return Promise.resolve(new ResponseInfo(content, contentType, statusCode))\n    }\n\n    /**\n     * create ResponseInfo of JSON\n     * @param {Object} obj\n     * @param {string} [contentType=application/json]\n     * @param {number} [statusCode=200]\n     * @return {Promise<ResponseInfo>}\n     */\n    respondJSON(obj, contentType = 'application/json', statusCode) {\n        return this.respond(JSON.stringify(obj), contentType, statusCode)\n    }\n\n\n    /**\n     * create ResponseInfo of file\n     * @param {string} path\n     * @param {string} [contentType=text/plain]\n     * @param {number} [statusCode=200]\n     * @return {Promise<ResponseInfo>}\n     */\n    respondFile(path, contentType, statusCode) {\n        return new Promise((y, n) => {\n            readFile(path, 'utf8', (e, o) => e ? n(e) : y(o))\n        })\n        .then(content => this.respond(content, contentType, statusCode))\n    }\n\n    /**\n     * respond with cached content\n     * @param {string} id identifier\n     * @return {ResponseInfo}\n     */\n    responseCache(id) {\n        return Promise.resolve(this.caches[id])\n    }\n\n\n    /**\n     * check cache existence\n     * @param {string} id identifier\n     * @return {boolean}\n     */\n    hasCache(id) {\n        return !!this.caches[id]\n    }\n\n\n    /**\n     * cache the response\n     * @param {string} id identifier\n     * @param {ResponseInfo}\n     * @return {ResponseInfo}\n     */\n    cache(id, responseInfo) {\n        return this.caches[id] = responseInfo\n    }\n\n    /**\n     * create ResponseInfo of NOT FOUND\n     * @param {string} url\n     * @return {Promise<ResponseInfo>}\n     */\n    notFound(url) {\n        return this.respond(`404 not found: ${url}`, 'text/plain', 404)\n    }\n\n\n    /**\n     * load web/index.html\n     * @return {Promise<ResponseInfo>}\n     */\n    webUI() {\n        return this.respondFile(__dirname + '/../../web/index.html', 'text/html')\n    }\n\n    /**\n     * load dist/web/main.bundle.js\n     * @return {Promise<ResponseInfo>}\n     */\n    webJS() {\n        // if (this.hasCache('webJS')) return this.responseCache('webJS')\n\n        const mainJSPath = resolve(__dirname, '../../dist/web/main.bundle.js')\n        return this.respondFile(mainJSPath, 'text/javascript').then(info => this.cache('webJS', info))\n    }\n\n    /**\n     * load a file in Resources directory\n     * @param {string} url\n     * @param {string} projDir\n     * @param {string} platform\n     * @return {Promise<ResponseInfo>}\n     */\n    resource(url, projDir, platform) {\n\n        // @type Buffer\n        let content = new ResourceLoader(url, projDir, platform).content\n        if (content === null) {\n            return this.notFound(url)\n        }\n\n        /**\n         * In app.js, top variables are exported as global variables.\n         * Thus, AppJsConverter converts the code as such.\n         * TODO Caches the result.\n         */\n        if (url === '/app.js') {\n            content = new AppJsConverter(content.toString()).convert()\n        }\n\n        return this.respond(content)\n    }\n}\n"
  },
  {
    "__docId__": 88,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ContentResponder",
    "memberof": "src/server/content-responder.js",
    "longname": "src/server/content-responder.js~ContentResponder",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/content-responder.js",
    "importStyle": "ContentResponder",
    "description": "return Promise of ResponseInfo by URL",
    "lineNumber": 12,
    "interface": false
  },
  {
    "__docId__": 89,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#constructor",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 90,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "caches",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#caches",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 91,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "respond",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#respond",
    "access": null,
    "description": "create ResponseInfo",
    "lineNumber": 27,
    "params": [
      {
        "nullable": null,
        "types": [
          "string",
          "Buffer"
        ],
        "spread": false,
        "optional": false,
        "name": "content",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "text/plain",
        "defaultRaw": "text/plain",
        "name": "contentType",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "200",
        "defaultRaw": 200,
        "name": "statusCode",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ResponseInfo>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 92,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "respondJSON",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#respondJSON",
    "access": null,
    "description": "create ResponseInfo of JSON",
    "lineNumber": 38,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "obj",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "application/json",
        "defaultRaw": "application/json",
        "name": "contentType",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "200",
        "defaultRaw": 200,
        "name": "statusCode",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ResponseInfo>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 93,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "respondFile",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#respondFile",
    "access": null,
    "description": "create ResponseInfo of file",
    "lineNumber": 50,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "text/plain",
        "defaultRaw": "text/plain",
        "name": "contentType",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "200",
        "defaultRaw": 200,
        "name": "statusCode",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ResponseInfo>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 94,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "responseCache",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#responseCache",
    "access": null,
    "description": "respond with cached content",
    "lineNumber": 62,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "identifier"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "ResponseInfo"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 95,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "hasCache",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#hasCache",
    "access": null,
    "description": "check cache existence",
    "lineNumber": 72,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "identifier"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 96,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "cache",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#cache",
    "access": null,
    "description": "cache the response",
    "lineNumber": 83,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "identifier"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "ResponseInfo"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 97,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "notFound",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#notFound",
    "access": null,
    "description": "create ResponseInfo of NOT FOUND",
    "lineNumber": 92,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ResponseInfo>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 98,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "webUI",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#webUI",
    "access": null,
    "description": "load web/index.html",
    "lineNumber": 101,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ResponseInfo>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 99,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "webJS",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#webJS",
    "access": null,
    "description": "load dist/web/main.bundle.js",
    "lineNumber": 109,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ResponseInfo>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 100,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "resource",
    "memberof": "src/server/content-responder.js~ContentResponder",
    "longname": "src/server/content-responder.js~ContentResponder#resource",
    "access": null,
    "description": "load a file in Resources directory",
    "lineNumber": 123,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "projDir",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "platform",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<ResponseInfo>"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 101,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/file-server.js",
    "memberof": null,
    "longname": "src/server/file-server.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\"use strict\";\n\nimport debug from 'debug'\nimport { readFileSync as read } from 'fs'\nimport http from 'http'\nimport { parse as urlParser } from 'url'\nimport {EventEmitter} from 'events'\n\nimport ContentResponder from './content-responder'\n\nconst P = f => new Promise(f)\nconst ____ = debug('faster-titanium:FileServer')\nconst ___x = debug('faster-titanium:FileServer:error')\n\n/**\n * Serve resource files\n */\nexport default class FileServer extends EventEmitter {\n\n    /**\n     * @param {number} port\n     * @param {string} token\n     * @param {Array} routes\n     */\n    constructor(port, token, routes) {\n        super()\n\n        /** @type {number} */\n        this.port = parseInt(port, 10)\n        /** @type {string} */\n        this.token = token\n        /** @type {Array<Array>} */\n        this.routes = routes\n        /** @type {net.Socket[]} */\n        this.sockets = []\n        /** @type {http.Server} */\n        this.server = http.createServer((req, res) => {\n            this.parseBody(req, (err, body) =>\n                err ? this.emit('error', err)\n                    : this.onRequest(req, res, body))\n        })\n\n        this.server.on('error', err => ___x(err) || this.emit('error', err))\n        this.server.on('connection', socket => this.sockets.push(socket))\n    }\n\n    get running() {\n        return this.server.listening\n    }\n\n\n    /**\n     * listen\n     * @public\n     * @return {Promise}\n     */\n    listen() {\n        return P(y => this.server.listen(this.port, y)).then(x => {\n            ____(`start listening ${this.port}`)\n        })\n    }\n\n\n    /**\n     * close server\n     * @public\n     * @return {Promise}\n     */\n    close() {\n        ____(`terminating...`)\n        this.sockets.forEach(socket => socket.destroy())\n        return P(y => this.server.close(y)).then(x => {\n            ____(`terminated`)\n        })\n    }\n\n    /**\n     * get instance of ResponseInfo with url matching passed routes\n     * @param {string} url\n     * @param {string} method\n     * @param {string|Object} body\n     * @return {Promise(ResponseInfo)}\n     * @private\n     */\n    handleURL(url, method, body) {\n        let getResponseInfo = null\n\n        this.routes.some(route => {\n            const pattern = route[0]\n            const fn      = route[route.length - 1]\n            const expectedMethod = (typeof route[1] === 'string') ? route[1] : 'GET'\n\n            if ((typeof pattern === 'string' && pattern === url && method === expectedMethod) ||\n                (pattern instanceof RegExp && url.match(pattern))) {\n                getResponseInfo = fn\n                return true\n            }\n            return false\n        })\n\n        if (getResponseInfo === null) { // not found\n            return new ContentResponder().notfound()\n        }\n        return getResponseInfo(url, body)\n    }\n\n    /**\n     * @param {http.ServerRequest} req\n     * @param {http.ServerResponse} res\n     * @param {string|Object} body\n     * @private\n     */\n    onRequest(req, res, body) {\n\n        const url = urlParser(req.url).pathname\n        ____(`url: ${url}, method: ${req.method}, body: ${JSON.stringify(body)}`)\n\n        this.handleURL(url, req.method, body)\n\n        .then(responseInfo => {\n            const { statusCode, contentType, content } = responseInfo\n            ____({statusCode, contentType, length: content.length})\n\n            res.writeHead(statusCode, {'Content-Type': contentType})\n            res.write(content)\n            res.end()\n        })\n        .catch(e => {\n            res.writeHead(500, {'Content-Type': 'application/json'})\n            res.write(JSON.stringify([err.message, err.stack]))\n            res.end()\n        })\n    }\n\n    /**\n     * parse request body\n     * @param {http.ServerRequest} req\n     * @param {function(err: error, body: string|Object): void} fn\n     */\n    parseBody(req, cb) {\n\n        if (req.method === 'GET') return cb(null, '')\n\n\n        let body = ''\n        req.setEncoding('utf8')\n        req.on('error', e => cb(e))\n        req.on('data', str => body += str)\n        req.on('end', x => {\n            if (req.headers['content-type'] === 'application/json') body = JSON.parse(body)\n            cb(null, body)\n        })\n    }\n}\n"
  },
  {
    "__docId__": 102,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "P",
    "memberof": "src/server/file-server.js",
    "longname": "src/server/file-server.js~P",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/file-server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 103,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "____",
    "memberof": "src/server/file-server.js",
    "longname": "src/server/file-server.js~____",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/file-server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 104,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "___x",
    "memberof": "src/server/file-server.js",
    "longname": "src/server/file-server.js~___x",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/file-server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 105,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "FileServer",
    "memberof": "src/server/file-server.js",
    "longname": "src/server/file-server.js~FileServer",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/file-server.js",
    "importStyle": "FileServer",
    "description": "Serve resource files",
    "lineNumber": 18,
    "interface": false,
    "extends": [
      "events~EventEmitter"
    ]
  },
  {
    "__docId__": 106,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 25,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "port",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "routes",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 107,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "port",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#port",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 108,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "token",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#token",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 109,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "routes",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#routes",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "Array<Array>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 110,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "sockets",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#sockets",
    "access": null,
    "description": null,
    "lineNumber": 35,
    "type": {
      "nullable": null,
      "types": [
        "net.Socket[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 111,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "server",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#server",
    "access": null,
    "description": null,
    "lineNumber": 37,
    "type": {
      "nullable": null,
      "types": [
        "http.Server"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 112,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "running",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#running",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 113,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "listen",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#listen",
    "access": "public",
    "description": "listen",
    "lineNumber": 57,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 114,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "close",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#close",
    "access": "public",
    "description": "close server",
    "lineNumber": 69,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 115,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "handleURL",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#handleURL",
    "access": "private",
    "description": "get instance of ResponseInfo with url matching passed routes",
    "lineNumber": 85,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "method",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string",
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "body",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise(ResponseInfo)"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 116,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onRequest",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#onRequest",
    "access": "private",
    "description": "",
    "lineNumber": 113,
    "params": [
      {
        "nullable": null,
        "types": [
          "http.ServerRequest"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "http.ServerResponse"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string",
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "body",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 117,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "parseBody",
    "memberof": "src/server/file-server.js~FileServer",
    "longname": "src/server/file-server.js~FileServer#parseBody",
    "access": null,
    "description": "parse request body",
    "lineNumber": 140,
    "params": [
      {
        "nullable": null,
        "types": [
          "http.ServerRequest"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function(err: error, body: string",
          "Object): void"
        ],
        "spread": false,
        "optional": false,
        "name": "fn",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 118,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/file-watcher.js",
    "memberof": null,
    "longname": "src/server/file-watcher.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\"use strict\";\n\nimport debug from 'debug'\nimport { join }  from 'path'\nimport { existsSync as exists, readFileSync as read } from 'fs'\nimport chokidar from 'chokidar'\nimport {EventEmitter} from 'events'\nconst ____ = debug('faster-titanium:FileWatcher')\nconst ___x = debug('faster-titanium:FileWatcher:error')\n\n/**\n * Watch files\n */\nexport default class FileWatcher extends EventEmitter {\n\n    /**\n     * @param {string} projDir\n     */\n    constructor(projDir) {\n        super()\n\n        /** @type {string} path to the project dir */\n        this.projDir = projDir\n        /** @type {number} unix time(msec) of last emission of change event */\n        this.lastEmission = 0\n        /** @type {string} value (path) of last emission */\n        this.lastEmitted = null\n        /** @type {Object} chokidar object */\n        this.watcher = chokidar.watch([], { ignoreInitial: true })\n\n        this.watcher.on('change', ::this.onChange)\n        this.watcher.on('error', path => ___x(path) || this.emit('error', path))\n    }\n\n    /**\n     * start watching\n     */\n    watch() {\n        ____(`start watching directories: ${this.dirs.join(', ')}`)\n        this.watcher.add(this.dirs)\n    }\n\n    get watching() {\n        return Object.keys(this.watcher.getWatched()).length > 0\n    }\n\n\n    /**\n     * whether the last change event was emitted during the past 1000msec\n     * @type {boolean}\n     * */\n    get justEmitted() {\n        return new Date().getTime() - this.lastEmission < 1000\n    }\n\n\n    /**\n     * stop watching\n     */\n    close() {\n        this.watcher.close()\n        ____(`watch stopped`)\n    }\n\n    /**\n     * Called when a file is changed.\n     * Sometimes watcher calls this twice to the same file, so memorizes past emission\n     * @param {string} path\n     */\n    onChange(path) {\n        if (this.lastEmitted === path && this.justEmitted) {\n            ____(`preventing emission twice.`)\n            return;\n        }\n\n        this.lastEmitted = path\n        this.lastEmission = new Date().getTime()\n\n        if (this.isAlloyPath(path)) {\n            this.emit('change:alloy', path)\n        }\n        else {\n            this.emit('change:Resources', path)\n        }\n    }\n\n\n    isAlloyPath(path) {\n        return path.indexOf(join(this.projDir, 'app/')) === 0\n    }\n\n    /** @type {string[]} */\n    get dirs() {\n        return [\n            'Resources',\n            'app',\n            'i18n'\n        ]\n        .map( name => join(this.projDir, name) )\n        .filter (exists)\n    }\n}\n"
  },
  {
    "__docId__": 119,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "____",
    "memberof": "src/server/file-watcher.js",
    "longname": "src/server/file-watcher.js~____",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/file-watcher.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 120,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "___x",
    "memberof": "src/server/file-watcher.js",
    "longname": "src/server/file-watcher.js~___x",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/file-watcher.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 121,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "FileWatcher",
    "memberof": "src/server/file-watcher.js",
    "longname": "src/server/file-watcher.js~FileWatcher",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/file-watcher.js",
    "importStyle": "FileWatcher",
    "description": "Watch files",
    "lineNumber": 14,
    "interface": false,
    "extends": [
      "events~EventEmitter"
    ]
  },
  {
    "__docId__": 122,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#constructor",
    "access": null,
    "description": "",
    "lineNumber": 19,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "projDir",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 123,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "projDir",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#projDir",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 124,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "lastEmission",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#lastEmission",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 125,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "lastEmitted",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#lastEmitted",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 126,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "watcher",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#watcher",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 127,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "watch",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#watch",
    "access": null,
    "description": "start watching",
    "lineNumber": 38,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 128,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "watching",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#watching",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 129,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "justEmitted",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#justEmitted",
    "access": null,
    "description": "whether the last change event was emitted during the past 1000msec",
    "lineNumber": 52,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 130,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "close",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#close",
    "access": null,
    "description": "stop watching",
    "lineNumber": 60,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 131,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onChange",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#onChange",
    "access": null,
    "description": "Called when a file is changed.\nSometimes watcher calls this twice to the same file, so memorizes past emission",
    "lineNumber": 70,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 132,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "lastEmitted",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#lastEmitted",
    "access": null,
    "description": null,
    "lineNumber": 76,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 133,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "lastEmission",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#lastEmission",
    "access": null,
    "description": null,
    "lineNumber": 77,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 134,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "isAlloyPath",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#isAlloyPath",
    "access": null,
    "description": null,
    "lineNumber": 88,
    "undocument": true,
    "params": [
      {
        "name": "path",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 135,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "dirs",
    "memberof": "src/server/file-watcher.js~FileWatcher",
    "longname": "src/server/file-watcher.js~FileWatcher#dirs",
    "access": null,
    "description": null,
    "lineNumber": 93,
    "type": {
      "nullable": null,
      "types": [
        "string[]"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 136,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/main-process.js",
    "memberof": null,
    "longname": "src/server/main-process.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\"use strict\";\n\nimport debug from 'debug'\nimport chalk from 'chalk'\nimport randomstring from 'randomstring'\nimport FileServer from './file-server'\nimport FileWatcher from './file-watcher'\nimport NotificationServer from './notification-server'\nimport ContentResponder from './content-responder'\nimport AlloyCompiler from './alloy-compiler'\nimport Preferences from '../common/preferences'\nimport TiLog from './ti-log'\nimport { modNameByPath } from '../common/util'\n\nconst ____ = debug('faster-titanium:MainProcess')\nconst ___x = (e) =>\n    debug('faster-titanium:MainProcess:error')(e) || debug('faster-titanium:MainProcess:error')(e.stack)\n\n\nprocess.on('uncaughtException', (err) => {\n    console.log(`Caught exception: ${err}`)\n})\n\n\n/**\n * main process\n */\nexport default class MainProcess {\n\n    /**\n     * @param {string} projDir\n     * @param {Object} [options={}]\n     * @param {number} [options.fPort] port number of the file server\n     * @param {number} [options.nPort] port number of the notification server\n     * @param {string} [options.host] host name or IP Address\n     * @param {string} [options.platform] platform name (ios|android|mobileweb|windows)\n     * @param {string} [options.token] identifier for this process\n     */\n    constructor(projDir, options = {}) {\n        const { fPort, nPort, host, platform, tiDebug, token } = options\n\n        /** @type {string} identifier for this process */\n        this.token = token || randomstring.generate(10)\n        /** @type {string} project dir */\n        this.projDir = projDir\n        /** @type {string} hostname or IP Address */\n        this.host = host\n        /** @type {string} platform os name of the Titanium App */\n        this.platform = platform\n        /** @type {Preferences} */\n        this.prefs = new Preferences({tiDebug})\n        /** @type {FileServer} */\n        this.fServer = new FileServer(fPort, this.token, this.routes)\n        /** @type {FileWatcher} */\n        this.watcher = new FileWatcher(this.projDir)\n        /** @type {NotificationServer} */\n        this.nServer = new NotificationServer(nPort, this.token)\n        /** @type {AlloyCompiler} */\n        this.alloyCompiler = new AlloyCompiler(this.projDir, this.platform)\n        this.registerListeners()\n    }\n\n    /** @type {string} */\n    get restartCommand() {\n        return `faster-ti restart -f ${this.fPort} -n ${this.nPort} -p ${this.platform} -t ${this.token} ${this.projDir}`\n    }\n\n    /** @type {string} */\n    get url() {\n        return `http://${this.host}:${this.fPort}/`\n    }\n\n    /** @type {number} */\n    get fPort() {\n        return this.fServer.port\n    }\n\n    /** @type {number} */\n    get nPort() {\n        return this.nServer.port\n    }\n\n    /**\n     * register event listeners.\n     * called only once in constructor\n     * @private\n     */\n    registerListeners() {\n\n        this.fServer.on('error', ___x)\n        this.nServer.on('error', ___x)\n        this.watcher.on('error', ___x)\n\n        this.nServer.on('log', ::this.tilog)\n        this.watcher.on('change:Resources', ::this.onResourceFileChanged)\n        this.watcher.on('change:alloy', ::this.onAlloyFileChanged)\n\n    }\n\n    get running() {\n        return this.fServer.running && this.nServer.running && this.watcher.watching\n\n    }\n\n\n\n    /**\n     * launch file server and notification server\n     * @return {Promise}\n     * @public\n     */\n    launchServers() {\n        ____(`launching servers`)\n        return Promise.all([\n            this.fServer.listen(),\n            this.nServer.listen()\n        ]).catch(___x)\n    }\n\n    /**\n     * start watching files\n     * @public\n     */\n    run() {\n        this.watch()\n        process.on('exit', x => {\n            console.log(chalk.yellow(`You can restart faster-titanium server with the following command.\\n`))\n            console.log(chalk.yellow(this.restartCommand))\n        })\n    }\n\n\n    /**\n     * starting file watching\n     * @private\n     */\n    watch() {\n        ____(`starting file watcher`)\n        this.watcher.watch()\n    }\n\n\n\n    /**\n     * close servers and stop watching\n     * @public\n     */\n    end() {\n        ____(`terminating servers`)\n        Promise.all([\n            this.fServer.close(),\n            this.nServer.close(),\n            this.watcher.close()\n        ])\n    }\n\n    /**\n     * show titanium log in console\n     * @param {Object} payload\n     * @param {Array} payload.args\n     * @param {string} payload.severity trace|debug|info|warn|error|critical\n     * @param {Object} [payload.options]\n     * @param {string} [payload.options.time] ISOStringfied time the log generated\n     * @param {string} [payload.options.debugname] debug name\n     */\n    tilog(payload) {\n        const { args, severity, options } = payload\n        TiLog[severity](args, options)\n    }\n\n\n    /**\n     * called when files in Resources directory changed\n     * @param {string} path\n     * @private\n     */\n    onResourceFileChanged(path) {\n        if (this.alloyCompiler.compiling) return;\n\n        ____(`changed: ${path}`)\n\n        this.sendEvent({timer: 1000, names: [modNameByPath(path, this.projDir, this.platform)]})\n    }\n\n    /**\n     * Called when files in app directory (Alloy project) changed\n     * Compile alloy. During compilation, unwatch Resources directory.\n     * @param {string} path\n     * @private\n     */\n    onAlloyFileChanged(path) {\n\n        ____(`changed:alloy ${path}`)\n\n        const token = randomstring.generate(10) // identifier for this compilation\n\n        this.send({event: 'alloy-compilation', token})\n\n        const changedFiles = [] // files in Resources changed by alloy compilation\n        const poolChanged = path => changedFiles.push(modNameByPath(path, this.projDir, this.platform))\n\n        this.watcher.on('change:Resources', poolChanged)\n\n        /** @type {AlloyCompiler} */\n        return this.alloyCompiler.compile(path, token)\n        .then(result => {\n            this.send({event: 'alloy-compilation-done', token, success: result})\n            this.watcher.removeListener('change:Resources', poolChanged)\n            if (result) {\n                this.sendEvent({timer: 500, names: changedFiles})\n            }\n        })\n    }\n\n    /**\n     * send message to the client of notification server\n     * @param {Object} payload\n     * @param {string} payload.event event name. oneof alloy-compilation|alloy-compilation-done|reload|reflect|debug-mode\n     */\n    send(payload) {\n        console.assert(payload && payload.event)\n        this.nServer.send(payload)\n    }\n\n\n    /**\n     * send reload|reflect event to the titanium client\n     * @param {Object} [options={}]\n     * @return {Promise}\n     * @private\n     */\n    sendEvent(options = {}) {\n        let eventName;\n\n        switch (this.prefs.style) {\n            case 'manual':\n                return\n            case 'auto-reload':\n                eventName = 'reload'\n                break\n            case 'auto-reflect':\n                eventName = 'reflect'\n                break\n        }\n\n        const payload = Object.assign({}, {event: eventName}, options)\n\n        this.send(payload)\n    }\n\n\n    /**\n     * @type {Array}\n     * @todo separate this to another file\n     */\n    get routes() {\n        const responder = new ContentResponder()\n        return [\n            ['/', url =>\n                responder.webUI()],\n\n            ['/info', url =>\n                responder.respondJSON(this.info)],\n\n            ['/prefs', 'POST', (url, body) => {\n                this.prefs.apply(body)\n                this.send({event: 'preferences', prefs: this.prefs})\n                return responder.respondJSON(this.prefs)\n            }],\n\n            ['/prefs', 'GET', (url) => responder.respondJSON(this.prefs) ],\n\n\n            ['/kill', url => {\n                process.nextTick(::this.end)\n                return responder.respond()\n            }],\n\n            ['/reload', url => {\n                this.send({event: 'reload', force: true})\n                return responder.respond()\n            }],\n\n            ['/faster-titanium-web-js/main.js', url => responder.webJS()],\n\n            [/^\\//, url => // any URL\n                responder.resource(url, this.projDir, this.platform)],\n        ]\n    }\n\n\n    /**\n     * information of FasterTitanium process\n     * @type {Object}\n     */\n    get info() {\n        return {\n            'access token'                    : this.token,\n            'project root'                    : this.projDir,\n            'notification server port'        : this.nPort,\n            'process uptime'                  : parseInt(process.uptime()) + ' [sec]',\n            'platform'                        : this.platform,\n            'connection with client'          : this.nServer.connected,\n            'loading style'                   : this.prefs.style,\n            'show debug log in Titanium'      : this.prefs.tiDebug,\n            'show ti log in server console'   : this.prefs.serverLog,\n            'show ti log in titanium console' : this.prefs.localLog,\n            //'Reloaded Times'               : this.stats.reloadedTimes\n        }\n    }\n}\n"
  },
  {
    "__docId__": 137,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "____",
    "memberof": "src/server/main-process.js",
    "longname": "src/server/main-process.js~____",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/main-process.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 138,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "___x",
    "memberof": "src/server/main-process.js",
    "longname": "src/server/main-process.js~___x",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/main-process.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 139,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "MainProcess",
    "memberof": "src/server/main-process.js",
    "longname": "src/server/main-process.js~MainProcess",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/main-process.js",
    "importStyle": "MainProcess",
    "description": "main process",
    "lineNumber": 28,
    "interface": false
  },
  {
    "__docId__": 140,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#constructor",
    "access": null,
    "description": "",
    "lineNumber": 39,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "projDir",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "options.fPort",
        "description": "port number of the file server"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "options.nPort",
        "description": "port number of the notification server"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "options.host",
        "description": "host name or IP Address"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "options.platform",
        "description": "platform name (ios|android|mobileweb|windows)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "options.token",
        "description": "identifier for this process"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 141,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "token",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#token",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 142,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "projDir",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#projDir",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 143,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "host",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#host",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 144,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "platform",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#platform",
    "access": null,
    "description": null,
    "lineNumber": 49,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 145,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "prefs",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#prefs",
    "access": null,
    "description": null,
    "lineNumber": 51,
    "type": {
      "nullable": null,
      "types": [
        "Preferences"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 146,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "fServer",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#fServer",
    "access": null,
    "description": null,
    "lineNumber": 53,
    "type": {
      "nullable": null,
      "types": [
        "FileServer"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 147,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "watcher",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#watcher",
    "access": null,
    "description": null,
    "lineNumber": 55,
    "type": {
      "nullable": null,
      "types": [
        "FileWatcher"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 148,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "nServer",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#nServer",
    "access": null,
    "description": null,
    "lineNumber": 57,
    "type": {
      "nullable": null,
      "types": [
        "NotificationServer"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 149,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "alloyCompiler",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#alloyCompiler",
    "access": null,
    "description": null,
    "lineNumber": 59,
    "type": {
      "nullable": null,
      "types": [
        "AlloyCompiler"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 150,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "restartCommand",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#restartCommand",
    "access": null,
    "description": null,
    "lineNumber": 64,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 151,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "url",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#url",
    "access": null,
    "description": null,
    "lineNumber": 69,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 152,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "fPort",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#fPort",
    "access": null,
    "description": null,
    "lineNumber": 74,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 153,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "nPort",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#nPort",
    "access": null,
    "description": null,
    "lineNumber": 79,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 154,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "registerListeners",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#registerListeners",
    "access": "private",
    "description": "register event listeners.\ncalled only once in constructor",
    "lineNumber": 88,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 155,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "running",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#running",
    "access": null,
    "description": null,
    "lineNumber": 100,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 156,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "launchServers",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#launchServers",
    "access": "public",
    "description": "launch file server and notification server",
    "lineNumber": 112,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 157,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "run",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#run",
    "access": "public",
    "description": "start watching files",
    "lineNumber": 124,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 158,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "watch",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#watch",
    "access": "private",
    "description": "starting file watching",
    "lineNumber": 137,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 159,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "end",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#end",
    "access": "public",
    "description": "close servers and stop watching",
    "lineNumber": 148,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 160,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "tilog",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#tilog",
    "access": null,
    "description": "show titanium log in console",
    "lineNumber": 166,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "payload",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "payload.args",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "payload.severity",
        "description": "trace|debug|info|warn|error|critical"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "name": "payload.options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "payload.options.time",
        "description": "ISOStringfied time the log generated"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "payload.options.debugname",
        "description": "debug name"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 161,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onResourceFileChanged",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#onResourceFileChanged",
    "access": "private",
    "description": "called when files in Resources directory changed",
    "lineNumber": 177,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 162,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onAlloyFileChanged",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#onAlloyFileChanged",
    "access": "private",
    "description": "Called when files in app directory (Alloy project) changed\nCompile alloy. During compilation, unwatch Resources directory.",
    "lineNumber": 191,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 163,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "send",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#send",
    "access": null,
    "description": "send message to the client of notification server",
    "lineNumber": 220,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "payload",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "payload.event",
        "description": "event name. oneof alloy-compilation|alloy-compilation-done|reload|reflect|debug-mode"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 164,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "sendEvent",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#sendEvent",
    "access": "private",
    "description": "send reload|reflect event to the titanium client",
    "lineNumber": 232,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 165,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "routes",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#routes",
    "access": null,
    "description": "",
    "lineNumber": 256,
    "todo": [
      "separate this to another file"
    ],
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 166,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "info",
    "memberof": "src/server/main-process.js~MainProcess",
    "longname": "src/server/main-process.js~MainProcess#info",
    "access": null,
    "description": "information of FasterTitanium process",
    "lineNumber": 296,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 167,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/notification-server.js",
    "memberof": null,
    "longname": "src/server/notification-server.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport debug from 'debug'\nimport net from 'net'\nimport FileWatcher from './file-watcher'\nimport {EventEmitter} from 'events'\nconst P = f => new Promise(f)\nconst ____ = debug('faster-titanium:NotificationServer')\nconst ___x = debug('faster-titanium:NotificationServer:error')\n\n/**\n * Server connecting continuously with Titanium App.\n * Restrict connection: only one device can connect to the server.\n */\nexport default class NotificationServer extends EventEmitter {\n\n    /**\n     * @param {string} [port]\n     */\n    constructor(port, token) {\n        super()\n        this.port = port\n        this.token = token\n        this.client = null\n        this.server = net.createServer(::this.verifyClient)\n        this.server.on('error', err => ___x(err) || this.emit('error', err))\n        /** @type {string} received pre-parsed text */\n        this.received = ''\n    }\n\n\n    /** @type {boolean} */\n    get connected() {\n        return !!(this.client && this.client.writable)\n    }\n\n\n    get running() {\n        return this.server.listening\n    }\n\n    /**\n     * listen\n     * @public\n     * @return {Promise}\n     */\n    listen() {\n        return P(y => this.server.listen(this.port, y)).then(x =>{\n            ____(`start listening ${this.port}`)\n        })\n    }\n\n    /**\n     * close server\n     * @public\n     * @return {Promise}\n     */\n    close() {\n        ____(`terminating...`)\n        this.client && this.client.destroy()\n\n        return P(y => this.server.close(y)).then(x => {\n            ____(`terminated`)\n        })\n    }\n\n    /**\n     * check the client has the right access token\n     * @param {net.Socket} socket\n     */\n    verifyClient(socket) {\n        socket.setEncoding('utf8')\n        socket.once('data', (clientToken) => {\n            if (clientToken === this.token) {\n                this.addClient(socket)\n            }\n            else {\n                ____(`Token doesn't match. client: ${clientToken}, server: ${this.token}.\n                     For most case, this is caused by older app retrying connection to the server. Ignore it.`)\n                socket.end()\n            }\n        })\n    }\n\n    /**\n     * add a client socket\n     * @param {net.Socket} socket\n     */\n    addClient(socket) {\n        if (this.client) {\n            ____(`New connection, Overwrite existing connection.`)\n            if (this.client.writable) { this.client.end() }\n        }\n        else {\n            ____(`New connection. Set client.`)\n        }\n        socket.on('data', ::this.onData)\n        this.client = socket\n        this.send({event: 'connected'})\n    }\n\n\n    /**\n     * send payload to the client\n     * @param {object} [payload={}]\n     */\n    send(payload = {}) {\n        if (!this.client) {\n            return ____(`sending message suppressed: No client.`)\n        }\n        if (!this.client.writable) {\n            this.client = null\n            return ____(`sending message suppressed: Socket is not writable.`)\n        }\n\n        ____(`sending payload: ${JSON.stringify(payload)}\\n`)\n        // as payloads are sometimes joined with previous one, the client should split them with \"\\n\" separator\n        // (see src/titanium/socket.js)\n        this.client.write(JSON.stringify(payload) + '\\n')\n    }\n\n    /**\n     * Called when data comes from client\n     * Split into multiple payloads\n     * @param {string} chunk\n     */\n    onData(chunk) {\n        this.received += chunk\n        const payloads = this.received.split('\\n')\n        this.received = payloads.pop()\n\n        payloads.map(JSON.parse).forEach(::this.readPayload)\n    }\n\n    /**\n     * read payload sent by client\n     * @param {Object} payload\n     */\n    readPayload(payload) {\n\n        switch (payload.type) {\n            case 'log':\n                this.emit('log', payload)\n                break\n            default:\n                // console.log(payload)\n                break\n        }\n    }\n}\n"
  },
  {
    "__docId__": 168,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "P",
    "memberof": "src/server/notification-server.js",
    "longname": "src/server/notification-server.js~P",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/notification-server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 169,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "____",
    "memberof": "src/server/notification-server.js",
    "longname": "src/server/notification-server.js~____",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/notification-server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 170,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "___x",
    "memberof": "src/server/notification-server.js",
    "longname": "src/server/notification-server.js~___x",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/notification-server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 171,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "NotificationServer",
    "memberof": "src/server/notification-server.js",
    "longname": "src/server/notification-server.js~NotificationServer",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/notification-server.js",
    "importStyle": "NotificationServer",
    "description": "Server connecting continuously with Titanium App.\nRestrict connection: only one device can connect to the server.",
    "lineNumber": 14,
    "interface": false,
    "extends": [
      "events~EventEmitter"
    ]
  },
  {
    "__docId__": 172,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#constructor",
    "access": null,
    "description": "",
    "lineNumber": 19,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "port",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 173,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "port",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#port",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 174,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "token",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#token",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 175,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "client",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#client",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 176,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "server",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#server",
    "access": null,
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 177,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "received",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#received",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 178,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "connected",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#connected",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 179,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "running",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#running",
    "access": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 180,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "listen",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#listen",
    "access": "public",
    "description": "listen",
    "lineNumber": 46,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 181,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "close",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#close",
    "access": "public",
    "description": "close server",
    "lineNumber": 57,
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 182,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "client",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#client",
    "access": null,
    "description": null,
    "lineNumber": 59,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 183,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "verifyClient",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#verifyClient",
    "access": null,
    "description": "check the client has the right access token",
    "lineNumber": 70,
    "params": [
      {
        "nullable": null,
        "types": [
          "net.Socket"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 184,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "addClient",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#addClient",
    "access": null,
    "description": "add a client socket",
    "lineNumber": 88,
    "params": [
      {
        "nullable": null,
        "types": [
          "net.Socket"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 185,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "client",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#client",
    "access": null,
    "description": null,
    "lineNumber": 97,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 186,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "send",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#send",
    "access": null,
    "description": "send payload to the client",
    "lineNumber": 106,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "payload",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 187,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "client",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#client",
    "access": null,
    "description": null,
    "lineNumber": 111,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 188,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onData",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#onData",
    "access": null,
    "description": "Called when data comes from client\nSplit into multiple payloads",
    "lineNumber": 126,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "chunk",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 189,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "received",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#received",
    "access": null,
    "description": null,
    "lineNumber": 127,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 190,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "received",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#received",
    "access": null,
    "description": null,
    "lineNumber": 129,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 191,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "readPayload",
    "memberof": "src/server/notification-server.js~NotificationServer",
    "longname": "src/server/notification-server.js~NotificationServer#readPayload",
    "access": null,
    "description": "read payload sent by client",
    "lineNumber": 138,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "payload",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 192,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/optimize-alloy.js",
    "memberof": null,
    "longname": "src/server/optimize-alloy.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/*\n * following codes are extracted and modified from alloy/Alloy/commands/compile/index.js\n */\n\nimport { existsSync, readFileSync as read, writeFileSync as write } from 'fs'\nimport path from 'path'\npath.existsSync = existsSync // for backward compatibility\n\nimport uglifyjs from 'uglify-js'\nimport {getPlatformDirname} from '../common/util'\nimport CONST from 'alloy/Alloy/common/constants'\nimport { getAndValidateProjectPaths as getPaths } from 'alloy/Alloy/utils'\nimport { OPTIONS_OUTPUT as outputOptions } from 'alloy/Alloy/commands/compile/sourceMapper'\n\nimport debug from 'debug'\nconst ____ = debug('faster-titanium:optimizeAlloy')\nconst ___x = debug('faster-titanium:optimizeAlloy:error')\n\n\n/**\n * optimize js file in Alloy project and save it to Resources\n *\n * @issue it now re-writes js files other than alloy.js\n * @todo refactoring much of it!!!\n * @param {string} projDir\n * @param {string} relPath relative path from projDir\n * @param {object} alloyConfig\n * @param {string} [alloyConfig.platform]\n * @param {string} [alloyConfig.deploytype] development\n */\nexport default function optimizeAlloy(projDir, relPath, alloyConfig) {\n\n    const paths = getPaths(projDir)\n\n    const platformDirname = getPlatformDirname(alloyConfig.platform)\n\n    const file = path.join(platformDirname, relPath.slice(4))\n\n    const compileConfig = { alloyConfig, dir: paths }\n\n    const fullpath = path.join(compileConfig.dir.resources, file)\n\n    ____(`optimizing ${platformDirname}/${relPath}`)\n\n    let ast = uglifyjs.parse(read(fullpath, 'utf8'), { filename: file })\n    ast = [ 'builtins', 'optimizer' ]\n\n        .map(modName => require('alloy/Alloy/commands/compile/ast/' + modName))\n\n        .reduce((ast, mod) => {\n            ast.figure_out_scope()\n            return mod.process(ast, compileConfig) || ast\n        }, ast)\n\n    ast = compress(ast, alloyConfig)\n\n    let stream = uglifyjs.OutputStream(outputOptions)\n    ast.print(stream)\n    write(fullpath, stream.toString())\n}\n\n// modify alloy/Alloy/commands/compile/ast/compress.js\nfunction compress(ast, alloyConfig) {\n\n    const { target, deploytype, platform } = alloyConfig\n\n    // create list of platform and deploy type defines\n    const defines = {}\n\n    CONST.DEPLOY_TYPES.forEach(d => {\n        defines[d.key] = deploytype === d.value\n    })\n    CONST.DIST_TYPES.forEach(d => {\n        defines[d.key] = d.value.indexOf(target) >= 0\n    })\n    CONST.PLATFORMS.forEach(p => {\n        defines['OS_' + p.toUpperCase()] = platform === p\n    })\n\n    const compressor = uglifyjs.Compressor({\n        sequences     : false,  // join consecutive statemets with the “comma operator”\n        properties    : false,   // optimize property access: a[\"foo\"] → a.foo\n        dead_code     : true,   // discard unreachable code\n        drop_debugger : false,   // discard “debugger” statements\n        unsafe        : false,   // some unsafe optimizations (see below)\n        conditionals  : true,   // optimize if-s and conditional expressions\n        comparisons   : true,   // optimize comparisons\n        evaluate      : true,   // evaluate constant expressions\n        booleans      : false,   // optimize boolean expressions\n        loops         : false,   // optimize loops\n        unused        : true,   // drop unused variables/functions\n        hoist_funs    : true,   // hoist function declarations\n        hoist_vars    : false,  // hoist variable declarations\n        if_return     : false,   // optimize if-s followed by return/continue\n        join_vars     : false,   // join var declarations\n        cascade       : false,   // try to cascade `right` into `left` in sequences\n        side_effects  : false,   // drop side-effect-free statements\n        warnings      : false,   // warn about potentially dangerous optimizations/code\n        global_defs   : defines      // global definitions\n    })\n\n    return ast.transform(compressor)\n}\n"
  },
  {
    "__docId__": 193,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "____",
    "memberof": "src/server/optimize-alloy.js",
    "longname": "src/server/optimize-alloy.js~____",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/optimize-alloy.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 194,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "___x",
    "memberof": "src/server/optimize-alloy.js",
    "longname": "src/server/optimize-alloy.js~___x",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/optimize-alloy.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 195,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "optimizeAlloy",
    "memberof": "src/server/optimize-alloy.js",
    "longname": "src/server/optimize-alloy.js~optimizeAlloy",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/optimize-alloy.js",
    "importStyle": "optimizeAlloy",
    "description": "optimize js file in Alloy project and save it to Resources",
    "lineNumber": 31,
    "todo": [
      "refactoring much of it!!!"
    ],
    "unknown": [
      {
        "tagName": "@issue",
        "tagValue": "it now re-writes js files other than alloy.js"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "projDir",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "relPath",
        "description": "relative path from projDir"
      },
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "alloyConfig",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "alloyConfig.platform",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "alloyConfig.deploytype",
        "description": "development"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 196,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "compress",
    "memberof": "src/server/optimize-alloy.js",
    "longname": "src/server/optimize-alloy.js~compress",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/optimize-alloy.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "params": [
      {
        "name": "ast",
        "types": [
          "*"
        ]
      },
      {
        "name": "alloyConfig",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 197,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/resource-loader.js",
    "memberof": null,
    "longname": "src/server/resource-loader.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\"use strict\";\n\nimport { join }  from 'path'\nimport { existsSync as exists, readFileSync as read } from 'fs'\nimport debug from 'debug'\nimport {getPlatformDirname} from '../common/util'\n\nconst ____ = debug('faster-titanium:ResourceLoader')\nconst ___x = debug('faster-titanium:ResourceLoader:error')\n\n/**\n * Get contents of Titanium Resources\n */\nexport default class ResourceLoader {\n\n    /**\n     * @param {string} url\n     * @param {string} projDir\n     * @param {string} platform\n     */\n    constructor(url, projDir, platform) {\n        /** @type {string} */\n        this.projDir = projDir\n        /** @type {string} */\n        this.platformDirname = getPlatformDirname(platform)\n        /** @type {string} */\n        this.url = url\n    }\n\n\n    /** @type {Buffer} */\n    get content() {\n        return this.load(this.platformPath) || this.load(this.commonPath) || null\n    }\n\n    load(path) {\n        if (exists(path)) {\n            ____(`path: ${path}`)\n            return read(path) // TODO cache results\n        }\n        return null\n    }\n\n    get platformPath() {\n        return join(this.projDir, 'Resources', this.platformDirname, this.url)\n    }\n\n    get commonPath() {\n        return join(this.projDir, 'Resources', this.url)\n    }\n\n     /** @type {boolean} */\n    get exists() {\n        return exists(this.path) // TODO cache results\n    }\n}\n"
  },
  {
    "__docId__": 198,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "____",
    "memberof": "src/server/resource-loader.js",
    "longname": "src/server/resource-loader.js~____",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/resource-loader.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 199,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "___x",
    "memberof": "src/server/resource-loader.js",
    "longname": "src/server/resource-loader.js~___x",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/server/resource-loader.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 200,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ResourceLoader",
    "memberof": "src/server/resource-loader.js",
    "longname": "src/server/resource-loader.js~ResourceLoader",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/resource-loader.js",
    "importStyle": "ResourceLoader",
    "description": "Get contents of Titanium Resources",
    "lineNumber": 14,
    "interface": false
  },
  {
    "__docId__": 201,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/resource-loader.js~ResourceLoader",
    "longname": "src/server/resource-loader.js~ResourceLoader#constructor",
    "access": null,
    "description": "",
    "lineNumber": 21,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "projDir",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "platform",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 202,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "projDir",
    "memberof": "src/server/resource-loader.js~ResourceLoader",
    "longname": "src/server/resource-loader.js~ResourceLoader#projDir",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 203,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "platformDirname",
    "memberof": "src/server/resource-loader.js~ResourceLoader",
    "longname": "src/server/resource-loader.js~ResourceLoader#platformDirname",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 204,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "url",
    "memberof": "src/server/resource-loader.js~ResourceLoader",
    "longname": "src/server/resource-loader.js~ResourceLoader#url",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 205,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "content",
    "memberof": "src/server/resource-loader.js~ResourceLoader",
    "longname": "src/server/resource-loader.js~ResourceLoader#content",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "type": {
      "nullable": null,
      "types": [
        "Buffer"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 206,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "load",
    "memberof": "src/server/resource-loader.js~ResourceLoader",
    "longname": "src/server/resource-loader.js~ResourceLoader#load",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "params": [
      {
        "name": "path",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 207,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "platformPath",
    "memberof": "src/server/resource-loader.js~ResourceLoader",
    "longname": "src/server/resource-loader.js~ResourceLoader#platformPath",
    "access": null,
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 208,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "commonPath",
    "memberof": "src/server/resource-loader.js~ResourceLoader",
    "longname": "src/server/resource-loader.js~ResourceLoader#commonPath",
    "access": null,
    "description": null,
    "lineNumber": 48,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 209,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "exists",
    "memberof": "src/server/resource-loader.js~ResourceLoader",
    "longname": "src/server/resource-loader.js~ResourceLoader#exists",
    "access": null,
    "description": null,
    "lineNumber": 53,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 210,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/response-info.js",
    "memberof": null,
    "longname": "src/server/response-info.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\n/**\n * value object containing statusCode, contentType, content\n */\nexport default class ResponseInfo {\n    constructor(content = '', contentType = 'text/plain', statusCode = 200) {\n        this.content     = content\n        this.contentType = contentType\n        this.statusCode  = statusCode\n    }\n}\n"
  },
  {
    "__docId__": 211,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ResponseInfo",
    "memberof": "src/server/response-info.js",
    "longname": "src/server/response-info.js~ResponseInfo",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/response-info.js",
    "importStyle": "ResponseInfo",
    "description": "value object containing statusCode, contentType, content",
    "lineNumber": 5,
    "interface": false
  },
  {
    "__docId__": 212,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/server/response-info.js~ResponseInfo",
    "longname": "src/server/response-info.js~ResponseInfo#constructor",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "params": [
      {
        "name": "content",
        "optional": true,
        "types": [
          "string"
        ],
        "defaultRaw": "",
        "defaultValue": ""
      },
      {
        "name": "contentType",
        "optional": true,
        "types": [
          "string"
        ],
        "defaultRaw": "text/plain",
        "defaultValue": "text/plain"
      },
      {
        "name": "statusCode",
        "optional": true,
        "types": [
          "number"
        ],
        "defaultRaw": 200,
        "defaultValue": "200"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 213,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "content",
    "memberof": "src/server/response-info.js~ResponseInfo",
    "longname": "src/server/response-info.js~ResponseInfo#content",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 214,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "contentType",
    "memberof": "src/server/response-info.js~ResponseInfo",
    "longname": "src/server/response-info.js~ResponseInfo#contentType",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 215,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "statusCode",
    "memberof": "src/server/response-info.js~ResponseInfo",
    "longname": "src/server/response-info.js~ResponseInfo#statusCode",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 216,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/server/ti-log.js",
    "memberof": null,
    "longname": "src/server/ti-log.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\n/**\n * Logger titanium logs into server console\n */\nexport default class TiLog {\n\n    static log(args, options) {\n        this.__base('INFO', '', '', args, options)\n    }\n\n    static info(args, options) {\n        this.__base('INFO', '', '', args, options)\n    }\n\n    static warn(args, options) {\n        this.__base('WARN', '\\u001b[33m', '\\u001b[0m', args, options)\n    }\n\n    static debug(args, options) {\n        this.__base('DEBUG', '\\x1b[38;5;240m', '\\x1b[0m', args, options)\n    }\n\n    static trace(args, options) {\n        this.__base('TRACE', '\\x1b[38;5;233m', '\\x1b[0m', args, options)\n    }\n\n    static error(args, options) {\n        this.__base('ERROR', '\\u001b[31m', '\\u001b[0m', args, options)\n    }\n\n    static critical(args, options) {\n        this.__base('CRITICAL', '\\u001b[31m', '\\u001b[0m', args, options)\n    }\n\n\n    static __base(name, startANSI, endANSI, args, options = {}) {\n        const {time, debugname} = options\n        const title = debugname ? debugname + ':' + name : name\n\n        const consoleArgs = [startANSI + `[Ti:${title}]`, ...args]\n\n        if (time) {\n            const timediff = new Date().getTime(time) - new Date().getTime()\n            if (timediff < 0) consoleArgs.push(`\\u001b[36m${timediff}ms\\u001b[0m`) // cyan\n        }\n        if (endANSI) consoleArgs.push(endANSI)\n\n        console.log.apply(console, consoleArgs)\n    }\n}\n"
  },
  {
    "__docId__": 217,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "TiLog",
    "memberof": "src/server/ti-log.js",
    "longname": "src/server/ti-log.js~TiLog",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/server/ti-log.js",
    "importStyle": "TiLog",
    "description": "Logger titanium logs into server console",
    "lineNumber": 5,
    "interface": false
  },
  {
    "__docId__": 218,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "log",
    "memberof": "src/server/ti-log.js~TiLog",
    "longname": "src/server/ti-log.js~TiLog.log",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 219,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "info",
    "memberof": "src/server/ti-log.js~TiLog",
    "longname": "src/server/ti-log.js~TiLog.info",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 220,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "warn",
    "memberof": "src/server/ti-log.js~TiLog",
    "longname": "src/server/ti-log.js~TiLog.warn",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 221,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "debug",
    "memberof": "src/server/ti-log.js~TiLog",
    "longname": "src/server/ti-log.js~TiLog.debug",
    "access": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 222,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "trace",
    "memberof": "src/server/ti-log.js~TiLog",
    "longname": "src/server/ti-log.js~TiLog.trace",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 223,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "error",
    "memberof": "src/server/ti-log.js~TiLog",
    "longname": "src/server/ti-log.js~TiLog.error",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 224,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "critical",
    "memberof": "src/server/ti-log.js~TiLog",
    "longname": "src/server/ti-log.js~TiLog.critical",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 225,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "__base",
    "memberof": "src/server/ti-log.js~TiLog",
    "longname": "src/server/ti-log.js~TiLog.__base",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      },
      {
        "name": "startANSI",
        "types": [
          "*"
        ]
      },
      {
        "name": "endANSI",
        "types": [
          "*"
        ]
      },
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 226,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/titanium/alert-dialog-replacer.js",
    "memberof": null,
    "longname": "src/titanium/alert-dialog-replacer.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import Logger from './logger'\nconst ____ = Logger.debug('AlertDialogReplacer')\n\n/**\n * Overwrite Ti.UI.createAlertDialog and hide them before restarting the app.\n */\nexport default class AlertDialogReplacer {\n\n    /**\n     * virtual constructor for this singleton class\n     */\n    static init() {\n        this.dialogs = []\n        this.replace()\n    }\n\n    /**\n     * Hide alert dialogs\n     * @param {function} cb callback called after hiding dialogs\n     * @param {number} timer interval to call callback\n     */\n    static hide(cb, timer) {\n        if (this.dialogs.length > 0) { timer = Math.max(500, timer) }\n\n        ____(`Hiding ${this.dialogs.length} dialogs before restarting app.`, 'debug')\n        this.dialogs.forEach(d => d.hide())\n\n        ____(`Restart procedure will be occurred after ${timer}ms.`, 'debug')\n        setTimeout(cb, timer)\n    }\n\n    /**\n     * Replace Ti.UI.createAlertDialog\n     * Store created dialogs\n     */\n    static replace() {\n\n        const orig = Ti.createAlertDialog\n\n        Ti.UI.createAlertDialog = (...args) => {\n            const dialog = orig.apply(Ti.UI, args)\n            ____(`Dialog is created.`, 'debug')\n            this.dialogs.push(dialog)\n            return dialog\n        }\n    }\n\n\n    /**\n     * global alert function, replaced in RequireAgent\n     * @param {string}\n     */\n    static alert(message) {\n        Ti.UI.createAlertDialog({message}).show()\n    }\n}\n"
  },
  {
    "__docId__": 227,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "____",
    "memberof": "src/titanium/alert-dialog-replacer.js",
    "longname": "src/titanium/alert-dialog-replacer.js~____",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/titanium/alert-dialog-replacer.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 228,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "AlertDialogReplacer",
    "memberof": "src/titanium/alert-dialog-replacer.js",
    "longname": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/titanium/alert-dialog-replacer.js",
    "importStyle": "AlertDialogReplacer",
    "description": "Overwrite Ti.UI.createAlertDialog and hide them before restarting the app.",
    "lineNumber": 7,
    "interface": false
  },
  {
    "__docId__": 229,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "init",
    "memberof": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer",
    "longname": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer.init",
    "access": null,
    "description": "virtual constructor for this singleton class",
    "lineNumber": 12,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 230,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "dialogs",
    "memberof": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer",
    "longname": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer.dialogs",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 231,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "hide",
    "memberof": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer",
    "longname": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer.hide",
    "access": null,
    "description": "Hide alert dialogs",
    "lineNumber": 22,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "cb",
        "description": "callback called after hiding dialogs"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "timer",
        "description": "interval to call callback"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 232,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "replace",
    "memberof": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer",
    "longname": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer.replace",
    "access": null,
    "description": "Replace Ti.UI.createAlertDialog\nStore created dialogs",
    "lineNumber": 36,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 233,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "alert",
    "memberof": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer",
    "longname": "src/titanium/alert-dialog-replacer.js~AlertDialogReplacer.alert",
    "access": null,
    "description": "global alert function, replaced in RequireAgent",
    "lineNumber": 53,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 234,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/titanium/faster-titanium.js",
    "memberof": null,
    "longname": "src/titanium/faster-titanium.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\"use strict\";\nimport Preferences from '../common/preferences'\nimport Socket from './socket'\nimport RequireAgent from './require-agent'\nimport AlloyCompilationState from '../common/alloy-compilation-state'\nimport Http from './http'\nimport AlertDialogReplacer from './alert-dialog-replacer'\n\nimport Logger from './logger'\nconst ____ = Logger.debug('FasterTitanium')\n\n\nexport default class FasterTitanium {\n\n    /**\n     * create instance of FasterTitanium and start app\n     * @param {Object} g global object of Titanium environment\n     * @param {Object} options\n     * @param {number} options.fPort port number of file server\n     * @param {number} options.nPort port number of notification server\n     * @param {string} [options.host='localhost'] host hostname of the servers\n     */\n    static run(g, options) {\n        AlertDialogReplacer.init()\n        Logger.init()\n        const ft = new FasterTitanium(g, options)\n        FasterTitanium.instance = ft\n        ft.startApp()\n    }\n\n\n    /**\n     * @param {Object} g global object of Titanium environment\n     * @param {Object} options\n     * @param {number} options.fPort port number of file server\n     * @param {number} options.nPort port number of notification server\n     * @param {string} [options.host='localhost'] host hostname of the servers\n     * @param {string} [options.host='localhost'] access token for server\n     */\n    constructor(g, options = {}) {\n\n        const { fPort, nPort, host = 'localhost', token } = options\n\n        /** @type {string} access token for server */\n        this.token = token\n        /** @type {boolean} whether to connect to notification server */\n        this.connected = false\n        /** @type {Object} global object of Titanium environment */\n        this.global = g\n        /** @type {RequireAgent} */\n        this.reqAgent = new RequireAgent(this.global.require, host, fPort)\n        /** @type {string} file server URL */\n        this.url = `http://${host}:${fPort}`\n        /** @type {number} the number of reload events excepted to occur @private */\n        this.expectedReloads = 0\n        /** @type {AlloyCompilationState} */\n        this.acState = new AlloyCompilationState()\n        /** @type {number} counter, only used in reload()*/\n        this.willReload = 0\n        /** @type {Socket} file server URL */\n        this.socket = new Socket({host: host, port: parseInt(nPort, 10)})\n        this.socket.onConnection(x => this.socket.sendText(this.token))\n\n        this.fetchPreferences(host, fPort)\n        this.registerListeners()\n    }\n\n\n    /**\n     * get Preferences from file server\n     * @param {string} host\n     * @param {number} fPort\n     */\n    fetchPreferences(host, fPort) {\n        const url = `http://${host}:${fPort}/prefs`\n        try {\n            const response = Http.get(url, { timeout: 2000 })\n            const prefs = new Preferences(JSON.parse(response))\n            this.applyPreferences(prefs)\n        }\n        catch (e) {\n            console.error(e)\n        }\n    }\n\n    /**\n     * register event listeners.\n     * called only once in constructor\n     * @private\n     */\n    registerListeners() {\n        this.socket.onData(::this.onPayload)\n        this.socket.onClose(x => {\n            ____('Connection closed.')\n            if (this.connected) {\n                this.showDialog('TCP server is terminated. \\n(This dialog will be closed in 3sec.)', 3000)\n            }\n            Logger.serverLogDisabled()\n            this.connected = false\n            this.connectLater(10)\n        })\n        this.socket.onError(::this.socketError)\n    }\n\n\n    /**\n     * apply the given preferences\n     * @param {Preferences} prefs\n     */\n    applyPreferences(prefs) {\n        Logger.debugMode = prefs.tiDebug\n        Logger.localLog = prefs.localLog\n        Logger.serverLog = prefs.serverLog\n        ____(`New preferences: ${JSON.stringify(prefs)}`, 'trace')\n    }\n\n\n    /**\n     * Show dialog with given message\n     * The dialog will close in {msec} milliseconds.\n     * @param {string} message\n     * @param {number} msec\n     */\n    showDialog(message, msec = 3000) {\n        const dialog = Ti.UI.createAlertDialog({\n            title: 'FasterTitanium',\n            message\n        })\n\n        dialog.show()\n        setTimeout(x => dialog.hide(), msec)\n    }\n\n\n    /**\n     * connect to notification server and begin app with the given code\n     */\n    startApp() {\n        this.socket.connect()\n        this.reqAgent.require('app')\n    }\n\n    /**\n     * @param {Object} err error from TCP socket\n     */\n    socketError(err) {\n        switch (err.code) {\n            case 50: // Network Unreachable\n                ____('Network unreachable. Try reconnecting in 10secs', 'warn')\n                this.connectLater(10)\n                break\n            case 57: // Socket is not connected\n                ____('Connectiton failed. Try reconnecting in 1sec', 'warn')\n                this.connectLater(1)\n                break\n            case 61: // Connection refused\n                ____(`Connectiton refused. Check if server is alive: ${this.url}`, 'warn')\n                this.connectLater(10)\n                break\n            default:\n                console.warn(err)\n                ____('TCP Socket Error. Try reconnecting in 10secs', 'warn')\n                this.connectLater(10)\n                break\n        }\n    }\n\n\n    /**\n     * connect to TCP server later\n     */\n    connectLater(sec = 10) {\n        setTimeout(::this.socket.reconnect, sec * 1000)\n    }\n\n\n    /**\n     * event listener called when the notification server sends payload\n     * @param {string} payload (can be parsed as JSON)\n     */\n    onPayload(payload) {\n        ____(`payload: ${JSON.stringify(payload)}`, 'trace')\n\n        switch (payload.event) {\n            case 'connected':\n                this.connected = true\n                Logger.serverLogEnabled(this.socket)\n                ____(`Connection established to ${this.socket.url}`)\n                break\n            case 'alloy-compilation':\n                this.acState.started(payload.token)\n                break\n            case 'alloy-compilation-done':\n                this.acState.finished(payload.token)\n                break\n            case 'reload':\n                this.reload(payload)\n                break\n            case 'reflect':\n                this.reflect(payload)\n                break\n            case 'preferences':\n                this.applyPreferences(new Preferences(payload.prefs))\n                break\n            default:\n                break\n        }\n    }\n\n    /**\n     * clear existing caches of the changed modules\n     */\n    reflect(options = {}) {\n        if (!options.names) return;\n\n        options.names.forEach(name => {\n            ____(`clearing cache ${name}`)\n            this.reqAgent.clearCache(name)\n        })\n    }\n\n\n    /**\n     * reload this app\n     * @param {Object} [options={}]\n     * @param {number} [options.timer=0]\n     * @param {boolean} [options.force=false]\n     */\n    reload(options = {}) {\n\n        const { timer = 0, force = false } = options\n\n        this.willReload++\n\n        AlertDialogReplacer.hide(x => { // hides alert dialogs before restart. Then the given callback is executed.\n            this.willReload--\n\n            if ((this.acState.compiling || this.willReload > 0) && !force) {\n                return ____(`Reload suppressed because ongoing alloy compilations exist. Use web reload button to force reloading: ${this.url}`)\n            }\n\n\n            this.socket.end()\n\n            try {\n                ____('reloading app')\n                Ti.App._restart()\n            }\n            catch(e) {\n                ____('reload')\n                this.reqAgent.clearAllCaches()\n                this.reqAgent.require('app')\n            }\n        }, timer)\n    }\n}\n\nif (typeof Ti !== 'undefined') Ti.FasterTitanium = FasterTitanium\n"
  },
  {
    "__docId__": 235,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "____",
    "memberof": "src/titanium/faster-titanium.js",
    "longname": "src/titanium/faster-titanium.js~____",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/titanium/faster-titanium.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 236,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "FasterTitanium",
    "memberof": "src/titanium/faster-titanium.js",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/titanium/faster-titanium.js",
    "importStyle": "FasterTitanium",
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 237,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "run",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium.run",
    "access": null,
    "description": "create instance of FasterTitanium and start app",
    "lineNumber": 23,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "g",
        "description": "global object of Titanium environment"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "options.fPort",
        "description": "port number of file server"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "options.nPort",
        "description": "port number of notification server"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'localhost'",
        "defaultRaw": "'localhost'",
        "name": "options.host",
        "description": "host hostname of the servers"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 238,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#constructor",
    "access": null,
    "description": "",
    "lineNumber": 40,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "g",
        "description": "global object of Titanium environment"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "options.fPort",
        "description": "port number of file server"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "options.nPort",
        "description": "port number of notification server"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'localhost'",
        "defaultRaw": "'localhost'",
        "name": "options.host",
        "description": "host hostname of the servers"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "'localhost'",
        "defaultRaw": "'localhost'",
        "name": "options.host",
        "description": "access token for server"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 239,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "token",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#token",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 240,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "connected",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#connected",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "type": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 241,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "global",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#global",
    "access": null,
    "description": null,
    "lineNumber": 49,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 242,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "reqAgent",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#reqAgent",
    "access": null,
    "description": null,
    "lineNumber": 51,
    "type": {
      "nullable": null,
      "types": [
        "RequireAgent"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 243,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "url",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#url",
    "access": null,
    "description": null,
    "lineNumber": 53,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 244,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "expectedReloads",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#expectedReloads",
    "access": null,
    "description": null,
    "lineNumber": 55,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 245,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "acState",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#acState",
    "access": null,
    "description": null,
    "lineNumber": 57,
    "type": {
      "nullable": null,
      "types": [
        "AlloyCompilationState"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 246,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "willReload",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#willReload",
    "access": null,
    "description": null,
    "lineNumber": 59,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 247,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "socket",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#socket",
    "access": null,
    "description": null,
    "lineNumber": 61,
    "type": {
      "nullable": null,
      "types": [
        "Socket"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 248,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "fetchPreferences",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#fetchPreferences",
    "access": null,
    "description": "get Preferences from file server",
    "lineNumber": 74,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "host",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "fPort",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 249,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "registerListeners",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#registerListeners",
    "access": "private",
    "description": "register event listeners.\ncalled only once in constructor",
    "lineNumber": 91,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 250,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "connected",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#connected",
    "access": null,
    "description": null,
    "lineNumber": 99,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 251,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "applyPreferences",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#applyPreferences",
    "access": null,
    "description": "apply the given preferences",
    "lineNumber": 110,
    "params": [
      {
        "nullable": null,
        "types": [
          "Preferences"
        ],
        "spread": false,
        "optional": false,
        "name": "prefs",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 252,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "showDialog",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#showDialog",
    "access": null,
    "description": "Show dialog with given message\nThe dialog will close in {msec} milliseconds.",
    "lineNumber": 124,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "msec",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 253,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "startApp",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#startApp",
    "access": null,
    "description": "connect to notification server and begin app with the given code",
    "lineNumber": 138,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 254,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "socketError",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#socketError",
    "access": null,
    "description": "",
    "lineNumber": 146,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "err",
        "description": "error from TCP socket"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 255,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "connectLater",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#connectLater",
    "access": null,
    "description": "connect to TCP server later",
    "lineNumber": 172,
    "params": [
      {
        "name": "sec",
        "optional": true,
        "types": [
          "number"
        ],
        "defaultRaw": 10,
        "defaultValue": "10"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 256,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onPayload",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#onPayload",
    "access": null,
    "description": "event listener called when the notification server sends payload",
    "lineNumber": 181,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "payload",
        "description": "(can be parsed as JSON)"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 257,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "connected",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#connected",
    "access": null,
    "description": null,
    "lineNumber": 186,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 258,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "reflect",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#reflect",
    "access": null,
    "description": "clear existing caches of the changed modules",
    "lineNumber": 213,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 259,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "reload",
    "memberof": "src/titanium/faster-titanium.js~FasterTitanium",
    "longname": "src/titanium/faster-titanium.js~FasterTitanium#reload",
    "access": null,
    "description": "reload this app",
    "lineNumber": 229,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "{}",
        "defaultRaw": {},
        "name": "options",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "0",
        "defaultRaw": 0,
        "name": "options.timer",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "options.force",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 260,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/titanium/http.js",
    "memberof": null,
    "longname": "src/titanium/http.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nexport default class Http {\n\n    static get(url, options = {}) {\n\n        const {timeout} = options\n        const timestamp = new Date().getTime()\n\n        const proxy = Ti.Network.createHTTPClient()\n        proxy.open('GET', url)\n\n        Object.keys(options.header || {}).forEach(key => {\n            proxy.setRequestHeader(key, options.header[key])\n        })\n\n        proxy.send()\n\n        let result = null\n\n        while (true) {\n            if (proxy.readyState === 4) {\n                if (proxy.status == 200) {\n                    result = proxy.responseText\n                    break\n                }\n                throw new Error(`[HTTP GET] status:${proxy.status}\\n ${proxy.responseText}. url = ${url}`)\n            }\n\n            if (new Date().getTime() - timestamp > timeout) {\n                throw new Error(`[HTTP GET] request timed out: ${url}`)\n            }\n        }\n        return result\n    }\n}\n"
  },
  {
    "__docId__": 261,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Http",
    "memberof": "src/titanium/http.js",
    "longname": "src/titanium/http.js~Http",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/titanium/http.js",
    "importStyle": "Http",
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 262,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "get",
    "memberof": "src/titanium/http.js~Http",
    "longname": "src/titanium/http.js~Http.get",
    "access": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "url",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 263,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/titanium/logger.js",
    "memberof": null,
    "longname": "src/titanium/logger.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "/**\n * Singleton class. Class itself has states.\n */\nexport default class Logger {\n\n    // pseudo constructor of this singleton.\n    static init() {\n        this.socket = null\n        this.queue = []\n\n        this.debugMode = false\n        this.localLog  = false\n        this.serverLog = false\n\n        this.TiAPI = Ti.API\n        this.console = console\n\n        this.overwriteConsole()\n    }\n\n    static get severities() {\n        return ['log', 'info', 'trace', 'warn', 'debug', 'critical', 'error']\n    }\n\n\n    /**\n     * overwrite Ti.API.* and console.*\n     */\n    static overwriteConsole() {\n        try {\n            const API = {};\n\n            this.severities.forEach(severity => {\n                const fn = this.TiAPI[severity]\n                API[severity] = (...args) => {\n\n                    this.log(args, severity)\n\n                }\n            })\n            Ti.API = API\n            console = API\n        }\n        catch (e) {}\n    }\n\n    static log(args, severity, options) {\n\n        this.serverLog && this.sendToServer(args, severity, options)\n\n        this.localLog  && this.showLocalLog(args, severity, options)\n    }\n\n\n    static showLocalLog(args, severity, options = {}) {\n        if (options.debugname) {\n            args.unshift(`[${options.debugname}]`)\n        }\n        this.TiAPI[severity](...args)\n    }\n\n\n    /**\n     * @param {string} debugname\n     */\n    static debug(debugname) {\n\n        return (arg, severity = 'info') =>\n            this.debugMode && this.log([arg], severity, {debugname})\n    }\n\n\n    /**\n     * @param {Socket} socket\n     */\n    static serverLogEnabled(socket) {\n        this.socket = socket\n\n        while (this.queue.length) {\n            const { args, severity, options } = this.queue.shift()\n            this.sendToServer(args, severity, options)\n        }\n    }\n\n\n    static serverLogDisabled() {\n        this.socket = null\n    }\n\n\n    /**\n     * send log to server via socket\n     */\n    static sendToServer(args, severity, options = {}) {\n        if (!this.socket) {\n            options.time = new Date().toISOString()\n            return this.queue.push({args, severity, options})\n        }\n\n        try {\n            this.socket.send({type: 'log', args, severity, options})\n        }\n        catch (e) {\n            this.console.warn(`Couldn't send log to server. Socket is not writable.`)\n        }\n    }\n}\n"
  },
  {
    "__docId__": 264,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Logger",
    "memberof": "src/titanium/logger.js",
    "longname": "src/titanium/logger.js~Logger",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/titanium/logger.js",
    "importStyle": "Logger",
    "description": "Singleton class. Class itself has states.",
    "lineNumber": 4,
    "interface": false
  },
  {
    "__docId__": 265,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "init",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.init",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 266,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "socket",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.socket",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 267,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "queue",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.queue",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 268,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "debugMode",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.debugMode",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 269,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "localLog",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.localLog",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 270,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "serverLog",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.serverLog",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 271,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "TiAPI",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.TiAPI",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 272,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "console",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.console",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 273,
    "kind": "get",
    "static": true,
    "variation": null,
    "name": "severities",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.severities",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 274,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "overwriteConsole",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.overwriteConsole",
    "access": null,
    "description": "overwrite Ti.API.* and console.*",
    "lineNumber": 29,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 275,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "log",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.log",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "severity",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 276,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "serverLog",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.serverLog",
    "access": null,
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 277,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "localLog",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.localLog",
    "access": null,
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 278,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "showLocalLog",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.showLocalLog",
    "access": null,
    "description": null,
    "lineNumber": 55,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "severity",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 279,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "debug",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.debug",
    "access": null,
    "description": "",
    "lineNumber": 66,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "debugname",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 280,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "serverLogEnabled",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.serverLogEnabled",
    "access": null,
    "description": "",
    "lineNumber": 76,
    "params": [
      {
        "nullable": null,
        "types": [
          "Socket"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 281,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "socket",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.socket",
    "access": null,
    "description": null,
    "lineNumber": 77,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 282,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "serverLogDisabled",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.serverLogDisabled",
    "access": null,
    "description": null,
    "lineNumber": 86,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 283,
    "kind": "member",
    "static": true,
    "variation": null,
    "name": "socket",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.socket",
    "access": null,
    "description": null,
    "lineNumber": 87,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 284,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "sendToServer",
    "memberof": "src/titanium/logger.js~Logger",
    "longname": "src/titanium/logger.js~Logger.sendToServer",
    "access": null,
    "description": "send log to server via socket",
    "lineNumber": 94,
    "params": [
      {
        "name": "args",
        "types": [
          "*"
        ]
      },
      {
        "name": "severity",
        "types": [
          "*"
        ]
      },
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 285,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/titanium/module.js",
    "memberof": null,
    "longname": "src/titanium/module.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\n/**\n * shimming node.js module\n */\nexport default class Module {\n\n    constructor(moduleName) {\n        /** @type {string} */\n        this.moduleName = moduleName\n\n        /** @type {Object} */\n        this.exports = {}\n    }\n\n\n    /** @type {string} */\n    get __dirname() {\n        if (this.moduleName === 'app') { return undefined } // app.js doesn't have __dirname\n\n        if (this.moduleName.match('/')) {\n            return this.moduleName.replace(/\\/[^\\/]+$/, '')\n        }\n        else {\n            return '.'\n        }\n    }\n\n    /** @type {string} */\n    get __filename() {\n        if (this.moduleName === 'app') { return undefined } // app.js doesn't have __filename\n\n        return this.moduleName.split('/').pop()\n    }\n}\n"
  },
  {
    "__docId__": 286,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Module",
    "memberof": "src/titanium/module.js",
    "longname": "src/titanium/module.js~Module",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/titanium/module.js",
    "importStyle": "Module",
    "description": "shimming node.js module",
    "lineNumber": 5,
    "interface": false
  },
  {
    "__docId__": 287,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/titanium/module.js~Module",
    "longname": "src/titanium/module.js~Module#constructor",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "params": [
      {
        "name": "moduleName",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 288,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "moduleName",
    "memberof": "src/titanium/module.js~Module",
    "longname": "src/titanium/module.js~Module#moduleName",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 289,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "exports",
    "memberof": "src/titanium/module.js~Module",
    "longname": "src/titanium/module.js~Module#exports",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 290,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "__dirname",
    "memberof": "src/titanium/module.js~Module",
    "longname": "src/titanium/module.js~Module#__dirname",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 291,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "__filename",
    "memberof": "src/titanium/module.js~Module",
    "longname": "src/titanium/module.js~Module#__filename",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 292,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/titanium/require-agent.js",
    "memberof": null,
    "longname": "src/titanium/require-agent.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport Module from './module'\nimport Http from './http'\nimport AlertDialogReplacer from './alert-dialog-replacer'\n\nimport Logger from './logger'\nconst ____ = Logger.debug('FasterTitanium:RequireAgent')\n\nexport default class RequireAgent {\n\n\n\n    /**\n     * @param {function} original (titanium) require function\n     * @param {string} host\n     * @param {number} port\n     */\n    constructor(origRequire, host, port) {\n\n        /** @type {function(moduleName: string):Object} */\n        this.origRequire = origRequire\n\n        /** @type {Map<string, Module>} */\n        this.modules = {}\n\n        /** @type {number} */\n        this.timeout = 10000\n\n        /** @type {number} */\n        this.host = host\n\n        /** @type {number} */\n        this.host = host\n\n        /** @type {number} */\n        this.port = parseInt(port, 10)\n    }\n\n    /**\n     * @param {string} moduleName\n     * @returns {object}\n     */\n    require(moduleName) {\n\n        ____(`requiring ${moduleName}`, 'trace')\n        if (this.modules[moduleName]) {\n            return this.modules[moduleName].exports\n        }\n\n        let source\n        try {\n            source = this.getServerSource(moduleName)\n        }\n        catch (e) {\n            console.warn(`Couldn't fetch module ${moduleName} from HTTP server. Use local file.`)\n            try {\n                source = this.getLocalSource(moduleName)\n            }\n            catch (e) {\n                console.warn(`Couldn't fetch module ${moduleName} from file system. Use original require.`)\n                return this.origRequire(moduleName)\n            }\n        }\n        const mod = this.createModule(moduleName, source)\n        this.modules[moduleName] = mod\n        return mod.exports\n    }\n\n    /**\n     * require module after resolving relative path, stripping extension\n     * @param {string} rawModuleName\n     * @param {Module} moduleFrom module where this method is called\n     * @returns {object}\n     */\n    requireRaw(rawModuleName, moduleFrom) {\n\n        let moduleName = rawModuleName\n\n        // resolve relative path\n        if (moduleName.match(/^\\./)) {\n            moduleName = relativePath(moduleFrom.moduleName, moduleName)\n        }\n\n        if (moduleName.match(/\\.js$/)) {\n            moduleName = moduleName.slice(0, -3)\n        }\n        return this.require(moduleName)\n    }\n\n\n    /**\n     * @param {string} moduleName\n     * @param {string} source\n     */\n    createModule(moduleName, source) {\n        const mod = new Module(moduleName)\n\n        // global variables in the source\n        const variables = {\n            exports    : mod.exports,\n            require    : v => this.requireRaw(v, mod),\n            module     : mod,\n            __dirname  : mod.__dirname,\n            __filename : mod.__filename,\n            alert      : AlertDialogReplacer.alert\n        }\n\n        var varNames  = Object.keys(variables).join(',')\n        var varValues = Object.keys(variables).map(k => variables[k])\n\n        Function(varNames, source).apply(null, varValues)\n\n        return mod\n    }\n\n\n    /**\n     * @param {string} moduleName\n     * @returns {string} js code\n     */\n    getServerSource(moduleName) {\n\n        const url = `http://${this.host}:${this.port}/${moduleName}.js`\n        ____(`\\tremote access: ${url}`, 'trace')\n\n        return Http.get(url, {\n            timeout: this.timeout\n        })\n    }\n\n    /**\n     * @param {string} moduleName\n     * @returns {string} js code\n     */\n    getLocalSource(moduleName) {\n\n        ____(`\\tfile access: ${moduleName}`, 'trace')\n\n        if (moduleName === 'app') moduleName = 'original-app'\n\n        const file = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, moduleName + '.js')\n\n        return file.read().text;\n    }\n\n\n    /**\n     * clear cache by name\n     */\n    clearCache(name) {\n        delete this.modules[name]\n    }\n\n\n    /**\n     * clear all module caches\n     */\n    clearAllCaches() {\n        for (key in this.modules) {\n            this.clearCache(key)\n        }\n    }\n\n}\n\n\n/**\n * @param {string} from\n * @param {string} to\n * @private (export for test)\n */\nexport function relativePath(from, to) {\n\n    const fromNodes = from.split('/')\n    fromNodes.pop()\n\n    const toNodes = to.split('/')\n\n    for (let i in toNodes) {\n        let toNode = toNodes[i]\n        switch (toNode) {\n            case '..':\n                if (fromNodes.length === 0) {\n                    throw new Error(`cannot resolve relative path. from: ${from}, to: ${to}`)\n                }\n                fromNodes.pop()\n                break\n            case '.':\n                break\n            default:\n                fromNodes.push(toNode)\n                break\n        }\n    }\n    return fromNodes.join('/')\n}\n"
  },
  {
    "__docId__": 293,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "____",
    "memberof": "src/titanium/require-agent.js",
    "longname": "src/titanium/require-agent.js~____",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/titanium/require-agent.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 294,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "RequireAgent",
    "memberof": "src/titanium/require-agent.js",
    "longname": "src/titanium/require-agent.js~RequireAgent",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/titanium/require-agent.js",
    "importStyle": "RequireAgent",
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 295,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#constructor",
    "access": null,
    "description": "",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "original",
        "description": "(titanium) require function"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "host",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "port",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 296,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "origRequire",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#origRequire",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "function(moduleName: string):Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 297,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "modules",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#modules",
    "access": null,
    "description": null,
    "lineNumber": 24,
    "type": {
      "nullable": null,
      "types": [
        "Map<string, Module>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 298,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "timeout",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#timeout",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 299,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "host",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#host",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 300,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "host",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#host",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 301,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "port",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#port",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 302,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "require",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#require",
    "access": null,
    "description": "",
    "lineNumber": 43,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "moduleName",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "object"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 303,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "requireRaw",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#requireRaw",
    "access": null,
    "description": "require module after resolving relative path, stripping extension",
    "lineNumber": 75,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{object}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "rawModuleName",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "Module"
        ],
        "spread": false,
        "optional": false,
        "name": "moduleFrom",
        "description": "module where this method is called"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "object"
      ],
      "spread": false,
      "description": ""
    },
    "generator": false
  },
  {
    "__docId__": 304,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "createModule",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#createModule",
    "access": null,
    "description": "",
    "lineNumber": 95,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "moduleName",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "source",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 305,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getServerSource",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#getServerSource",
    "access": null,
    "description": "",
    "lineNumber": 121,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string} js code"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "moduleName",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "js code"
    },
    "generator": false
  },
  {
    "__docId__": 306,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getLocalSource",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#getLocalSource",
    "access": null,
    "description": "",
    "lineNumber": 135,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string} js code"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "moduleName",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "js code"
    },
    "generator": false
  },
  {
    "__docId__": 307,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "clearCache",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#clearCache",
    "access": null,
    "description": "clear cache by name",
    "lineNumber": 150,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 308,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "clearAllCaches",
    "memberof": "src/titanium/require-agent.js~RequireAgent",
    "longname": "src/titanium/require-agent.js~RequireAgent#clearAllCaches",
    "access": null,
    "description": "clear all module caches",
    "lineNumber": 158,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 309,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "relativePath",
    "memberof": "src/titanium/require-agent.js",
    "longname": "src/titanium/require-agent.js~relativePath",
    "access": "private",
    "export": true,
    "importPath": "faster-titanium/src/titanium/require-agent.js",
    "importStyle": "{relativePath}",
    "description": "",
    "lineNumber": 172,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "from",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "to",
        "description": ""
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 310,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/titanium/socket.js",
    "memberof": null,
    "longname": "src/titanium/socket.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\n\nexport default class Socket {\n\n    constructor(options = {}) {\n\n        const { host, port } = options\n\n        this.host = host\n        this.port = port\n        this.dataListener  = null\n        this.errorListener = null\n        this.proxy = this.createTCPSocket()\n    }\n\n    /** @type {string} */\n    get url() {\n        return `${this.host}:${this.port}`\n    }\n\n\n    /**\n     * connect to TCP server\n     */\n    connect() {\n        this.proxy.connect()\n    }\n\n\n    /**\n     * reconnect to TCP server\n     */\n    reconnect() {\n        this.end()\n        delete this.proxy\n        this.proxy = this.createTCPSocket()\n        this.connect()\n    }\n\n\n    /**\n     * create socket proxy for TCP connection\n     */\n    createTCPSocket() {\n        return Ti.Network.Socket.createTCP({\n            host: this.host,\n            port: this.port,\n\n            connected: (v) => {\n\n                this.connectionListener && this.connectionListener()\n\n                Ti.Stream.pump(v.socket, e => {\n                    // end signal\n                    if (!e.buffer) {\n                        return this.closeListener && this.closeListener()\n                    }\n                    if (!this.dataListener) return\n\n                    ('' + e.buffer)\n                        .trim()\n                        .split('\\n') // split two or more JSONs (see src/server/event-server.js)\n                        .map(str => {\n                            try { return JSON.parse(str) }\n                            catch (e) { console.error(e); return null }\n                        })\n                        .filter(v => v != null)\n                        .forEach(payload => this.dataListener(payload))\n                }, 1024, true)\n            },\n\n            error: (e) => this.errorListener && this.errorListener(e)\n        })\n    }\n\n    /**\n     * send payload to server\n     * @param {Object} payload\n     */\n    send(payload) {\n        const buf = Ti.createBuffer({value: JSON.stringify(payload) + '\\n'})\n        const bytes = this.proxy.write(buf)\n    }\n\n\n    /**\n     * send string to server\n     * @param {string} str\n     */\n    sendText(str) {\n        const buf = Ti.createBuffer({value: str})\n        const bytes = this.proxy.write(buf)\n    }\n\n\n\n    /**\n     * set listener of data event\n     * @param {function} fn\n     */\n    onData(fn) {\n        if (typeof fn === 'function') this.dataListener = fn\n    }\n\n    /**\n     * set listener of close event\n     * @param {function} fn\n     */\n    onClose(fn) {\n        if (typeof fn === 'function') this.closeListener = fn\n    }\n\n    /**\n     * set listener of connection event\n     * @param {function} fn\n     */\n    onConnection(fn) {\n        if (typeof fn === 'function') this.connectionListener = fn\n    }\n\n    /**\n     * set listener of error event\n     * @param {function} fn\n     */\n    onError(fn) {\n        if (typeof fn === 'function') this.errorListener = fn\n    }\n\n    /**\n     * close socket\n     */\n    end() {\n        try { this.proxy.close() } catch (e) {}\n    }\n}\n"
  },
  {
    "__docId__": 311,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Socket",
    "memberof": "src/titanium/socket.js",
    "longname": "src/titanium/socket.js~Socket",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/titanium/socket.js",
    "importStyle": "Socket",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 312,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "params": [
      {
        "name": "options",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "generator": false
  },
  {
    "__docId__": 313,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "host",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#host",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 314,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "port",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#port",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 315,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "dataListener",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#dataListener",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 316,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "errorListener",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#errorListener",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 317,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "proxy",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#proxy",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 318,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "url",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#url",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    },
    "generator": false
  },
  {
    "__docId__": 319,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "connect",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#connect",
    "access": null,
    "description": "connect to TCP server",
    "lineNumber": 25,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 320,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "reconnect",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#reconnect",
    "access": null,
    "description": "reconnect to TCP server",
    "lineNumber": 33,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 321,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "proxy",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#proxy",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 322,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "createTCPSocket",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#createTCPSocket",
    "access": null,
    "description": "create socket proxy for TCP connection",
    "lineNumber": 44,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 323,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "connectionListener",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#connectionListener",
    "access": null,
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 324,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "send",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#send",
    "access": null,
    "description": "send payload to server",
    "lineNumber": 80,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "payload",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 325,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "sendText",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#sendText",
    "access": null,
    "description": "send string to server",
    "lineNumber": 90,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "str",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 326,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onData",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#onData",
    "access": null,
    "description": "set listener of data event",
    "lineNumber": 101,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "fn",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 327,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "dataListener",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#dataListener",
    "access": null,
    "description": null,
    "lineNumber": 102,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 328,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onClose",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#onClose",
    "access": null,
    "description": "set listener of close event",
    "lineNumber": 109,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "fn",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 329,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "closeListener",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#closeListener",
    "access": null,
    "description": null,
    "lineNumber": 110,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 330,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onConnection",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#onConnection",
    "access": null,
    "description": "set listener of connection event",
    "lineNumber": 117,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "fn",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 331,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "connectionListener",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#connectionListener",
    "access": null,
    "description": null,
    "lineNumber": 118,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 332,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onError",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#onError",
    "access": null,
    "description": "set listener of error event",
    "lineNumber": 125,
    "params": [
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "fn",
        "description": ""
      }
    ],
    "generator": false
  },
  {
    "__docId__": 333,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "errorListener",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#errorListener",
    "access": null,
    "description": null,
    "lineNumber": 126,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 334,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "end",
    "memberof": "src/titanium/socket.js~Socket",
    "longname": "src/titanium/socket.js~Socket#end",
    "access": null,
    "description": "close socket",
    "lineNumber": 132,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 335,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/web/components/connection-hint-modal.js",
    "memberof": null,
    "longname": "src/web/components/connection-hint-modal.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport GlobalState from '../global-state'\nimport Fa from './fa'\nimport modalStyle from '../styles/modal'\nconst wait = (msec => new Promise(y => setTimeout(y, msec)))\n\n\nconst windowStyle = {\n    position: 'relative',\n    margin: '200px auto',\n    background: 'rgba(255,255,255, 1)',\n    width: 400,\n    height: 200,\n    borderRadius: 6,\n    boxShadow: 'rgba(113, 135, 164, 0.65098) 0 0 6 3',\n}\n\nconst descriptionStyle = {\n    width: 350,\n    margin: '10px auto',\n    height: 60,\n    fontSize: 14,\n    color: 'rgba(140, 140, 140, 1)',\n}\n\nconst titleStyle = {\n    padding: 10,\n    fontWeight: 'bold',\n    fontSize: 16,\n    background: '#ededed',\n    background: '-webkit-gradient(linear, left top, left bottom, from(#ededed), to(#ebebeb))',\n    background: '-moz-linear-gradient(top,  #ededed,  #ebebeb)',\n    borderRadius:6,\n    color: 'rgba(80, 80, 80, 1)',\n}\n\n\n/**\n * modal for showing hint of connection with Titanium app\n */\nexport default class ConnectionHintModal extends React.Component {\n\n    constructor(props) {\n        super(props)\n    }\n\n\n    render() {\n        return (\n        <div style={modalStyle} id=\"connection-hint-modal\" onClick={evt => evt.target.id === 'connection-hint-modal' && this.close()}>\n            <div style={windowStyle}>\n                <Fa onClick={::this.close} icon=\"close\" style={{position: 'absolute', top: 15, right: 15, cursor: 'pointer'}} />\n                <p style={titleStyle}>\n                    <Fa icon=\"question-circle\" style={{marginRight: 10}} />\n                    Hint for connection\n                </p>\n                <div style={descriptionStyle}>{this.hint}</div>\n            </div>\n        </div>\n        )\n    }\n\n    get hint() {\n        return `\n        If not connected, try restarting app.\n        Restart is \"restart\", not \"resume\".\n        On iOS simulator, press Command + Shift + H twice quickly and swipe up the app,\n        then the running app will be killed and you can \"restart\".\n        `\n    }\n\n\n\n    close() {\n        GlobalState.set('connectionHintModal', false)\n    }\n}\n"
  },
  {
    "__docId__": 336,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "wait",
    "memberof": "src/web/components/connection-hint-modal.js",
    "longname": "src/web/components/connection-hint-modal.js~wait",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/components/connection-hint-modal.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 337,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "windowStyle",
    "memberof": "src/web/components/connection-hint-modal.js",
    "longname": "src/web/components/connection-hint-modal.js~windowStyle",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/components/connection-hint-modal.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 338,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "descriptionStyle",
    "memberof": "src/web/components/connection-hint-modal.js",
    "longname": "src/web/components/connection-hint-modal.js~descriptionStyle",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/components/connection-hint-modal.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 339,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "titleStyle",
    "memberof": "src/web/components/connection-hint-modal.js",
    "longname": "src/web/components/connection-hint-modal.js~titleStyle",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/components/connection-hint-modal.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 340,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ConnectionHintModal",
    "memberof": "src/web/components/connection-hint-modal.js",
    "longname": "src/web/components/connection-hint-modal.js~ConnectionHintModal",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/web/components/connection-hint-modal.js",
    "importStyle": "ConnectionHintModal",
    "description": "modal for showing hint of connection with Titanium app",
    "lineNumber": 41,
    "interface": false,
    "extends": [
      "React~React.Component"
    ]
  },
  {
    "__docId__": 341,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/web/components/connection-hint-modal.js~ConnectionHintModal",
    "longname": "src/web/components/connection-hint-modal.js~ConnectionHintModal#constructor",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "params": [
      {
        "name": "props",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 342,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "render",
    "memberof": "src/web/components/connection-hint-modal.js~ConnectionHintModal",
    "longname": "src/web/components/connection-hint-modal.js~ConnectionHintModal#render",
    "access": null,
    "description": null,
    "lineNumber": 48,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 343,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "hint",
    "memberof": "src/web/components/connection-hint-modal.js~ConnectionHintModal",
    "longname": "src/web/components/connection-hint-modal.js~ConnectionHintModal#hint",
    "access": null,
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 344,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "close",
    "memberof": "src/web/components/connection-hint-modal.js~ConnectionHintModal",
    "longname": "src/web/components/connection-hint-modal.js~ConnectionHintModal#close",
    "access": null,
    "description": null,
    "lineNumber": 74,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 345,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/web/components/fa.js",
    "memberof": null,
    "longname": "src/web/components/fa.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nexport default class FontAwesomeComponent extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {}\n    }\n\n    get className() {\n        return `fa fa-${this.props.icon}`\n\n    }\n\n    render() {\n        return (\n            <i className={this.className} {...this.props}></i>\n        )\n    }\n}\n"
  },
  {
    "__docId__": 346,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "FontAwesomeComponent",
    "memberof": "src/web/components/fa.js",
    "longname": "src/web/components/fa.js~FontAwesomeComponent",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/web/components/fa.js",
    "importStyle": "FontAwesomeComponent",
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "interface": false,
    "extends": [
      "React~React.Component"
    ]
  },
  {
    "__docId__": 347,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/web/components/fa.js~FontAwesomeComponent",
    "longname": "src/web/components/fa.js~FontAwesomeComponent#constructor",
    "access": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "props",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 348,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "state",
    "memberof": "src/web/components/fa.js~FontAwesomeComponent",
    "longname": "src/web/components/fa.js~FontAwesomeComponent#state",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 349,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "className",
    "memberof": "src/web/components/fa.js~FontAwesomeComponent",
    "longname": "src/web/components/fa.js~FontAwesomeComponent#className",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 350,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "render",
    "memberof": "src/web/components/fa.js~FontAwesomeComponent",
    "longname": "src/web/components/fa.js~FontAwesomeComponent#render",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 351,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/web/components/info-table.js",
    "memberof": null,
    "longname": "src/web/components/info-table.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import postPreferences from '../post-preferences'\nimport Fa from './fa'\nimport GlobalState from '../global-state'\n\n\n\nexport default class InfoTable extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            loadingStyleHighLight: false\n        }\n    }\n\n    render() {\n        return (\n            <table cellSpacing='0'>\n            <thead>\n              <tr><th>Property Name</th>\n              <th>Value\n              <Fa icon=\"refresh\" style={{paddingLeft: 10, fontSize:15}} onClick={this.props.fetchInfo}/>\n              </th></tr>\n            </thead>\n            <tbody>{this.trs}</tbody>\n            </table>\n        )\n    }\n\n    get trs() {\n        const {info} = this.props\n        return Object.keys(info)\n            .map(k => <tr key={k}><td>{k}</td>{this.infoValueTD(k, info[k])}</tr>)\n    }\n\n\n\n    get loadingStyleCSS() {\n        const style = {\n            cursor: 'pointer',\n            transition: 'background-color .3s',\n        }\n\n        if (this.state.loadingStyleHighLight) {\n            style.background = '#99c2f4'\n        }\n        return style\n    }\n\n\n    /**\n     * prepare <td> tag for info value\n     * @param {string} k key of info json\n     * @param {string} v value of info json\n     */\n    infoValueTD(k, v) {\n\n        const modifiers = {\n\n            'loading style': v =>\n\n                <td style={this.loadingStyleCSS}\n                    onClick={::this.showSelectionModal}\n                    onMouseOver={x => this.setState({loadingStyleHighLight: true})}\n                    onMouseOut={x => this.setState({loadingStyleHighLight: false})}>\n                    {v}\n                    <Fa icon=\"arrow-circle-right\" style={{color: '#39f', paddingLeft: 10}} />\n                </td>,\n\n\n            'connection with client': v =>\n                <td style={{cursor: 'pointer'}} onClick={::this.showConnectionHintModal}>\n                    <Fa icon={v ?'check':'close'} style={{color: v?'green':'red', fontSize: 30}}/>\n                    <Fa icon=\"question-circle\" style={{color: '#39f', fontSize: 13, paddingLeft: 6, verticalAlign: '20%'}}/>\n                </td>,\n\n            'show debug log in Titanium': (v, k) => this.getSwitchUI(v, k, 'tiDebug'),\n            'show ti log in server console': (v, k) => this.getSwitchUI(v, k, 'serverLog'),\n            'show ti log in titanium console': (v, k) => this.getSwitchUI(v, k, 'localLog'),\n        }\n\n        return modifiers[k] ? modifiers[k](v, k) : <td>{v}</td>\n    }\n\n\n    /**\n     * binary switch in <td>\n     * click => send server and flip the value\n     * @param {boolean} bool the value\n     * @param {string} propName table property name\n     * @param {string} prefKey a property name of Preferences object\n     */\n    getSwitchUI(bool, propName, prefKey) {\n        const onClick = (evt) => {\n            postPreferences({[prefKey]: !bool})\n            .then(json => GlobalState.set('tableInfo', propName, !bool))\n        }\n\n        return (\n        <td style={{cursor: 'pointer'}} onClick={onClick}>\n            <Fa icon={bool ?'toggle-on':'toggle-off'} style={{color: bool?'green':'gray', fontSize: 30}}/>\n        </td>\n        )\n    }\n\n\n    showConnectionHintModal() {\n        GlobalState.set('connectionHintModal', true)\n    }\n\n    showSelectionModal() {\n        GlobalState.set('selectionModal', true)\n    }\n}\n"
  },
  {
    "__docId__": 352,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "InfoTable",
    "memberof": "src/web/components/info-table.js",
    "longname": "src/web/components/info-table.js~InfoTable",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/web/components/info-table.js",
    "importStyle": "InfoTable",
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "interface": false,
    "extends": [
      "React~React.Component"
    ]
  },
  {
    "__docId__": 353,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/web/components/info-table.js~InfoTable",
    "longname": "src/web/components/info-table.js~InfoTable#constructor",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "params": [
      {
        "name": "props",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 354,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "state",
    "memberof": "src/web/components/info-table.js~InfoTable",
    "longname": "src/web/components/info-table.js~InfoTable#state",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 355,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "render",
    "memberof": "src/web/components/info-table.js~InfoTable",
    "longname": "src/web/components/info-table.js~InfoTable#render",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 356,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "trs",
    "memberof": "src/web/components/info-table.js~InfoTable",
    "longname": "src/web/components/info-table.js~InfoTable#trs",
    "access": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 357,
    "kind": "get",
    "static": false,
    "variation": null,
    "name": "loadingStyleCSS",
    "memberof": "src/web/components/info-table.js~InfoTable",
    "longname": "src/web/components/info-table.js~InfoTable#loadingStyleCSS",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 358,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "infoValueTD",
    "memberof": "src/web/components/info-table.js~InfoTable",
    "longname": "src/web/components/info-table.js~InfoTable#infoValueTD",
    "access": null,
    "description": "prepare <td> tag for info value",
    "lineNumber": 56,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "k",
        "description": "key of info json"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "v",
        "description": "value of info json"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 359,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getSwitchUI",
    "memberof": "src/web/components/info-table.js~InfoTable",
    "longname": "src/web/components/info-table.js~InfoTable#getSwitchUI",
    "access": null,
    "description": "binary switch in <td>\nclick => send server and flip the value",
    "lineNumber": 93,
    "params": [
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "bool",
        "description": "the value"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "propName",
        "description": "table property name"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "prefKey",
        "description": "a property name of Preferences object"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 360,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "showConnectionHintModal",
    "memberof": "src/web/components/info-table.js~InfoTable",
    "longname": "src/web/components/info-table.js~InfoTable#showConnectionHintModal",
    "access": null,
    "description": null,
    "lineNumber": 107,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 361,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "showSelectionModal",
    "memberof": "src/web/components/info-table.js~InfoTable",
    "longname": "src/web/components/info-table.js~InfoTable#showSelectionModal",
    "access": null,
    "description": null,
    "lineNumber": 111,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 362,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/web/components/root.js",
    "memberof": null,
    "longname": "src/web/components/root.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import GlobalState from '../global-state'\nimport InfoTable from './info-table'\nimport SelectionModal from './selection-modal'\nimport ConnectionHintModal from './connection-hint-modal'\n\nconst wait = (msec => new Promise(y => setTimeout(y, msec)))\n\nexport default class Root extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            notification: '',\n            selectionModal: false,\n            connectionHintModal: false,\n            tableInfo: {},\n        }\n\n        GlobalState.initialize(this)\n    }\n\n\n    componentDidMount() {\n        this.fetchInfo()\n    }\n\n\n    fetchInfo() {\n        fetch('/info')\n            .then(res => res.json())\n            .then(json => {\n                GlobalState.set('tableInfo', json)\n            })\n    }\n\n\n    render() {\n        return (\n        <div>\n            {this.state.selectionModal ? <SelectionModal /> : ''}\n            {this.state.connectionHintModal ? <ConnectionHintModal /> : ''}\n            <pre style={{height: 25}}>{this.state.notification}</pre>\n            <InfoTable info={this.state.tableInfo} fetchInfo={::this.fetchInfo} />\n            <div className=\"nice-button\"><a onClick={::this.reload}>Reload App</a></div>\n        </div>\n        )\n    }\n\n\n\n    reload() {\n\n        GlobalState.set('notification', 'Now Reloading...')\n\n        fetch('/reload')\n            .then(res => res.text())\n            .then(text => {\n                return wait(1500)\n            })\n            .then(x => {\n                GlobalState.set('notification', '')\n            })\n    }\n\n}\n"
  },
  {
    "__docId__": 363,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "wait",
    "memberof": "src/web/components/root.js",
    "longname": "src/web/components/root.js~wait",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/components/root.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 364,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Root",
    "memberof": "src/web/components/root.js",
    "longname": "src/web/components/root.js~Root",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/web/components/root.js",
    "importStyle": "Root",
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "interface": false,
    "extends": [
      "React~React.Component"
    ]
  },
  {
    "__docId__": 365,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/web/components/root.js~Root",
    "longname": "src/web/components/root.js~Root#constructor",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "params": [
      {
        "name": "props",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 366,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "state",
    "memberof": "src/web/components/root.js~Root",
    "longname": "src/web/components/root.js~Root#state",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 367,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "componentDidMount",
    "memberof": "src/web/components/root.js~Root",
    "longname": "src/web/components/root.js~Root#componentDidMount",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 368,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "fetchInfo",
    "memberof": "src/web/components/root.js~Root",
    "longname": "src/web/components/root.js~Root#fetchInfo",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 369,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "render",
    "memberof": "src/web/components/root.js~Root",
    "longname": "src/web/components/root.js~Root#render",
    "access": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 370,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "reload",
    "memberof": "src/web/components/root.js~Root",
    "longname": "src/web/components/root.js~Root#reload",
    "access": null,
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 371,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/web/components/selection-modal.js",
    "memberof": null,
    "longname": "src/web/components/selection-modal.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport Preferences from '../../common/preferences'\nimport GlobalState from '../global-state'\nimport postPreferences from '../post-preferences'\nimport modalStyle from '../styles/modal'\nconst wait = (msec => new Promise(y => setTimeout(y, msec)))\n\n\nconst windowStyle = {\n    margin: '200px auto',\n    background: 'rgba(255,255,255, 1)',\n    width: 400,\n    height: 300,\n    borderRadius: 6,\n    boxShadow: 'rgba(113, 135, 164, 0.65098) 0 0 6 3',\n}\n\n\nconst descriptionStyle = {\n    width: 250,\n    margin: '10px auto',\n    height: 60,\n    fontSize: 12,\n    color: 'rgba(140, 140, 140, 1)',\n}\n\nconst selectStyle = {\n    width: 250,\n    fontSize: 20,\n    color: 'rgba(100, 100, 100, 1)',\n    border: '1 solid #ddd',\n}\n\nconst titleStyle = {\n    padding: 10,\n    fontWeight: 'bold',\n    fontSize: 16,\n    background: '#ededed',\n    background: '-webkit-gradient(linear, left top, left bottom, from(#ededed), to(#ebebeb))',\n    background: '-moz-linear-gradient(top,  #ededed,  #ebebeb)',\n    borderRadius:6,\n    color: 'rgba(80, 80, 80, 1)',\n}\n\n\n/**\n * modal for selection of loading style\n */\nexport default class SelectionModal extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            selected: 0,\n            desc: ''\n        }\n    }\n\n\n    render() {\n        return (\n        <div style={modalStyle} id=\"selection-modal\" onClick={evt => evt.target.id === 'selection-modal' && this.close()}>\n            <div style={windowStyle}>\n                <p style={titleStyle}>Choose the loading style.</p>\n                <div style={descriptionStyle}>{this.state.desc}</div>\n                <select style={selectStyle} size=\"3\" onChange={evt => this.setState({selected: evt.target.value})}>\n                    <option onMouseOver={::this.showStyleDescription} value=\"1\">auto-reload</option>\n                    <option onMouseOver={::this.showStyleDescription} value=\"2\">auto-reflect</option>\n                    <option onMouseOver={::this.showStyleDescription} value=\"3\">manual</option>\n                </select>\n                <div className=\"nice-button\" id=\"change-loading-style-btn\"><a onClick={::this.changeLoadingStyle}>Change</a></div>\n            </div>\n        </div>\n        )\n    }\n\n\n\n    /**\n     * send custom loading style name to the server\n     */\n    changeLoadingStyle() {\n        const loadStyleNum = parseInt(this.state.selected)\n\n        postPreferences({loadStyleNum})\n        .then (json => {\n            this.close()\n            GlobalState.set('tableInfo', 'loading style', Preferences.expressions[loadStyleNum])\n            GlobalState.set('notification', 'loading style changed.')\n        })\n        .then (x => wait(2000))\n        .then (x => GlobalState.set('notification', ''))\n    }\n\n\n    showStyleDescription(evt) {\n\n        const index = evt.target.value\n        const desc = Preferences.descriptions[index]\n        this.setState({desc})\n    }\n\n\n    close() {\n        GlobalState.set('selectionModal', false)\n    }\n}\n"
  },
  {
    "__docId__": 372,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "wait",
    "memberof": "src/web/components/selection-modal.js",
    "longname": "src/web/components/selection-modal.js~wait",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/components/selection-modal.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 373,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "windowStyle",
    "memberof": "src/web/components/selection-modal.js",
    "longname": "src/web/components/selection-modal.js~windowStyle",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/components/selection-modal.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 374,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "descriptionStyle",
    "memberof": "src/web/components/selection-modal.js",
    "longname": "src/web/components/selection-modal.js~descriptionStyle",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/components/selection-modal.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 375,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "selectStyle",
    "memberof": "src/web/components/selection-modal.js",
    "longname": "src/web/components/selection-modal.js~selectStyle",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/components/selection-modal.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 376,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "titleStyle",
    "memberof": "src/web/components/selection-modal.js",
    "longname": "src/web/components/selection-modal.js~titleStyle",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/components/selection-modal.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 377,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "SelectionModal",
    "memberof": "src/web/components/selection-modal.js",
    "longname": "src/web/components/selection-modal.js~SelectionModal",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/web/components/selection-modal.js",
    "importStyle": "SelectionModal",
    "description": "modal for selection of loading style",
    "lineNumber": 49,
    "interface": false,
    "extends": [
      "React~React.Component"
    ]
  },
  {
    "__docId__": 378,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/web/components/selection-modal.js~SelectionModal",
    "longname": "src/web/components/selection-modal.js~SelectionModal#constructor",
    "access": null,
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "params": [
      {
        "name": "props",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 379,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "state",
    "memberof": "src/web/components/selection-modal.js~SelectionModal",
    "longname": "src/web/components/selection-modal.js~SelectionModal#state",
    "access": null,
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 380,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "render",
    "memberof": "src/web/components/selection-modal.js~SelectionModal",
    "longname": "src/web/components/selection-modal.js~SelectionModal#render",
    "access": null,
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 381,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "changeLoadingStyle",
    "memberof": "src/web/components/selection-modal.js~SelectionModal",
    "longname": "src/web/components/selection-modal.js~SelectionModal#changeLoadingStyle",
    "access": null,
    "description": "send custom loading style name to the server",
    "lineNumber": 82,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 382,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "showStyleDescription",
    "memberof": "src/web/components/selection-modal.js~SelectionModal",
    "longname": "src/web/components/selection-modal.js~SelectionModal#showStyleDescription",
    "access": null,
    "description": null,
    "lineNumber": 96,
    "undocument": true,
    "params": [
      {
        "name": "evt",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 383,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "close",
    "memberof": "src/web/components/selection-modal.js~SelectionModal",
    "longname": "src/web/components/selection-modal.js~SelectionModal#close",
    "access": null,
    "description": null,
    "lineNumber": 104,
    "undocument": true,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 384,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/web/global-state.js",
    "memberof": null,
    "longname": "src/web/global-state.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\n\n/**\n * handles state of Root component\n */\nexport default class GlobalState {\n\n    static initialize(root) {\n        GlobalState.instance = new GlobalState(root)\n    }\n\n    static set(...args) {\n        GlobalState.instance.set(...args)\n    }\n\n    constructor(root) {\n        this.root = root\n        this.state = clone(this.root.state)\n    }\n\n\n    /**\n     * set(k1, k2, k3, v) => state[k1][k2][k3] = v\n     */\n    set(...args) {\n        const value = args.pop()\n        const lastKey = args.pop()\n        let obj = args.reduce((obj, k) => obj[k], this.state)\n        obj[lastKey] = value\n        this.root.setState(clone(this.state))\n    }\n}\n\nfunction clone(obj) {\n    return JSON.parse(JSON.stringify(obj)) // todo: better implementation like Immutable.js\n}\n"
  },
  {
    "__docId__": 385,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "GlobalState",
    "memberof": "src/web/global-state.js",
    "longname": "src/web/global-state.js~GlobalState",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/web/global-state.js",
    "importStyle": "GlobalState",
    "description": "handles state of Root component",
    "lineNumber": 6,
    "interface": false
  },
  {
    "__docId__": 386,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "initialize",
    "memberof": "src/web/global-state.js~GlobalState",
    "longname": "src/web/global-state.js~GlobalState.initialize",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "root",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 387,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "set",
    "memberof": "src/web/global-state.js~GlobalState",
    "longname": "src/web/global-state.js~GlobalState.set",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "generator": false
  },
  {
    "__docId__": 388,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/web/global-state.js~GlobalState",
    "longname": "src/web/global-state.js~GlobalState#constructor",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "params": [
      {
        "name": "root",
        "types": [
          "*"
        ]
      }
    ],
    "generator": false
  },
  {
    "__docId__": 389,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "root",
    "memberof": "src/web/global-state.js~GlobalState",
    "longname": "src/web/global-state.js~GlobalState#root",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 390,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "state",
    "memberof": "src/web/global-state.js~GlobalState",
    "longname": "src/web/global-state.js~GlobalState#state",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 391,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "set",
    "memberof": "src/web/global-state.js~GlobalState",
    "longname": "src/web/global-state.js~GlobalState#set",
    "access": null,
    "description": "set(k1, k2, k3, v) => state[k1][k2][k3] = v",
    "lineNumber": 25,
    "params": [
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "generator": false
  },
  {
    "__docId__": 392,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "clone",
    "memberof": "src/web/global-state.js",
    "longname": "src/web/global-state.js~clone",
    "access": null,
    "export": false,
    "importPath": "faster-titanium/src/web/global-state.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "params": [
      {
        "name": "obj",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 393,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/web/main.js",
    "memberof": null,
    "longname": "src/web/main.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\"use strict\";\n\n// import React from 'react' // installed from external script for performance\n// import ReactDOM from 'react-dom' // installed from external script for performance\nimport Root from './components/root'\n\nwindow.addEventListener('load', x => ReactDOM.render(<Root />, document.getElementById('container')))\n"
  },
  {
    "__docId__": 394,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/web/post-preferences.js",
    "memberof": null,
    "longname": "src/web/post-preferences.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nexport default function postPreferences(params = {}) {\n\n    return fetch('/prefs',\n          { method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(params)\n    })\n    .then(res => res.json())\n}\n"
  },
  {
    "__docId__": 395,
    "kind": "function",
    "static": true,
    "variation": null,
    "name": "postPreferences",
    "memberof": "src/web/post-preferences.js",
    "longname": "src/web/post-preferences.js~postPreferences",
    "access": null,
    "export": true,
    "importPath": "faster-titanium/src/web/post-preferences.js",
    "importStyle": "postPreferences",
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "params": [
      {
        "name": "params",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 396,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/web/styles/modal.js",
    "memberof": null,
    "longname": "src/web/styles/modal.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nexport default {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width:'100%',\n    height:'100%',\n    textAlign:'center',\n    zIndex: 1000,\n    borderRadius: 3,\n    background: 'rgba(50,50,50, 0.6)',\n}\n"
  },
  {
    "__docId__": 398,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Infinity",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 399,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~NaN",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 400,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~undefined",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 401,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~null",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 402,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 403,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 404,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 405,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 406,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 407,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 408,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Symbol",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 409,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Error",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 410,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~EvalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 411,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~InternalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 412,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RangeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 413,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ReferenceError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 414,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~SyntaxError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 415,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~TypeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 416,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~URIError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 417,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 418,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 419,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Date",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 420,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~String",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 421,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~string",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 422,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RegExp",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 423,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 424,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 425,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 426,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8ClampedArray",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 427,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 428,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 429,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 430,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 431,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 432,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float64Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 433,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Map",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 434,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Set",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 435,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakMap",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 436,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakSet",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 437,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ArrayBuffer",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 438,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~DataView",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 439,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~JSON",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 440,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Promise",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 441,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Generator",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 442,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~GeneratorFunction",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 443,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Reflect",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 444,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Proxy",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 446,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "CanvasRenderingContext2D",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~CanvasRenderingContext2D",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 447,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "DocumentFragment",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~DocumentFragment",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 448,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Element",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Element",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Element",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 449,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Event",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Event",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Event",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 450,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Node",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Node",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Node",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 451,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "NodeList",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/NodeList",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~NodeList",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 452,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "XMLHttpRequest",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~XMLHttpRequest",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 453,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "AudioContext",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/AudioContext",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~AudioContext",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 454,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "spec/common/util.spec.js",
    "memberof": null,
    "longname": "spec/common/util.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport assert from 'power-assert'\nimport {modNameByPath} from '../../src/common/util'\n\n\ndescribe('modNameByPath', ()=> {\n\n    it('converts path to module name', ()=> {\n\n        const origCode = `var a = 1;`\n        const projDir = '/path/to/proj-dir'\n        const platform = 'ios'\n\n        const path = '/path/to/proj-dir/Resources/iphone/abc/def.js'\n\n        const modName = modNameByPath(path, projDir, platform)\n\n        assert(modName === 'abc/def')\n\n    })\n\n})\n"
  },
  {
    "__docId__": 455,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe0",
    "testId": 0,
    "memberof": "spec/common/util.spec.js",
    "testDepth": 0,
    "longname": "spec/common/util.spec.js~describe0",
    "access": null,
    "description": "modNameByPath",
    "lineNumber": 6
  },
  {
    "__docId__": 456,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it1",
    "testId": 1,
    "memberof": "spec/common/util.spec.js~describe0",
    "testDepth": 1,
    "longname": "spec/common/util.spec.js~describe0.it1",
    "access": null,
    "description": "converts path to module name",
    "lineNumber": 8
  },
  {
    "__docId__": 457,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "spec/server/app-js-converter.spec.js",
    "memberof": null,
    "longname": "spec/server/app-js-converter.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport assert from 'power-assert'\nimport AppJsConverter from '../../src/server/app-js-converter'\n\n\ndescribe('AppJsConverter', ()=> {\n\n    it('converts simple variable declaration into this[\"\"] expression', ()=> {\n\n        const origCode = `var a = 1;`\n\n        const newCode = new AppJsConverter(origCode).convert()\n\n        const expected = `this['a'] = 1;`\n\n        assert(newCode === expected)\n    })\n\n\n    it('converts variable declarations into this[\"\"] expression', ()=> {\n\n        const origCode = `var a = 1, b = \"shinout\";`\n\n        const newCode = new AppJsConverter(origCode).convert()\n\n        const expected = `this['a'] = 1; this['b'] = \"shinout\";`\n\n        assert(newCode === expected)\n    })\n\n\n    it('converts variable declaration with no initialization into this[\"\"] = undefined', ()=> {\n\n        const origCode = `var a;`\n\n        const newCode = new AppJsConverter(origCode).convert()\n\n        const expected = `this['a'] = undefined;`\n\n        assert(newCode === expected)\n    })\n\n\n    it('attaches semicolon after this[\"\"] expression', ()=> {\n\n        const origCode = `var a`\n\n        const newCode = new AppJsConverter(origCode).convert()\n\n        const expected = `this['a'] = undefined;`\n\n        assert(newCode === expected)\n    })\n\n\n    it('does not convert variable declarations in non-top scope', ()=> {\n\n        const origCode = `function abc() { var a = 123 }`\n\n        const newCode = new AppJsConverter(origCode).convert()\n\n        assert(newCode === origCode)\n    })\n\n\n    it('converts variable declarations with LF', ()=> {\n\n        const origCode = `var a = 123,\n            b,\n            Alloy = require('alloy'),\n            _ = Alloy._;`\n\n        const newCode = new AppJsConverter(origCode).convert()\n\n        const expected = `this['a'] = 123; this['b'] = undefined; this['Alloy'] = require('alloy'); this['_'] = Alloy._;`\n\n        assert(newCode === expected)\n    })\n\n\n    it('converts variable declarations with LF', ()=> {\n\n        const origCode = `var a=1;var b=require('b'), c;`\n\n        const newCode = new AppJsConverter(origCode).convert()\n\n        const expected = `this['a'] = 1;this['b'] = require('b'); this['c'] = undefined;`\n\n        assert(newCode === expected)\n    })\n\n\n    it('converts variable declaration containing multi-byte characters', ()=> {\n\n        const origCode = `var ft = \"速すぎるTitanium\";\\n var ft2 = 'faster-titanium'`\n\n        const newCode = new AppJsConverter(origCode).convert()\n\n        const expected = `this['ft'] = \"速すぎるTitanium\";\\n this['ft2'] = 'faster-titanium';`\n\n        assert(newCode === expected)\n    })\n\n\n})\n\n"
  },
  {
    "__docId__": 458,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe2",
    "testId": 2,
    "memberof": "spec/server/app-js-converter.spec.js",
    "testDepth": 0,
    "longname": "spec/server/app-js-converter.spec.js~describe2",
    "access": null,
    "description": "AppJsConverter",
    "lineNumber": 6
  },
  {
    "__docId__": 459,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it3",
    "testId": 3,
    "memberof": "spec/server/app-js-converter.spec.js~describe2",
    "testDepth": 1,
    "longname": "spec/server/app-js-converter.spec.js~describe2.it3",
    "access": null,
    "description": "converts simple variable declaration into this[\"\"] expression",
    "lineNumber": 8
  },
  {
    "__docId__": 460,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it4",
    "testId": 4,
    "memberof": "spec/server/app-js-converter.spec.js~describe2",
    "testDepth": 1,
    "longname": "spec/server/app-js-converter.spec.js~describe2.it4",
    "access": null,
    "description": "converts variable declarations into this[\"\"] expression",
    "lineNumber": 20
  },
  {
    "__docId__": 461,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it5",
    "testId": 5,
    "memberof": "spec/server/app-js-converter.spec.js~describe2",
    "testDepth": 1,
    "longname": "spec/server/app-js-converter.spec.js~describe2.it5",
    "access": null,
    "description": "converts variable declaration with no initialization into this[\"\"] = undefined",
    "lineNumber": 32
  },
  {
    "__docId__": 462,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it6",
    "testId": 6,
    "memberof": "spec/server/app-js-converter.spec.js~describe2",
    "testDepth": 1,
    "longname": "spec/server/app-js-converter.spec.js~describe2.it6",
    "access": null,
    "description": "attaches semicolon after this[\"\"] expression",
    "lineNumber": 44
  },
  {
    "__docId__": 463,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it7",
    "testId": 7,
    "memberof": "spec/server/app-js-converter.spec.js~describe2",
    "testDepth": 1,
    "longname": "spec/server/app-js-converter.spec.js~describe2.it7",
    "access": null,
    "description": "does not convert variable declarations in non-top scope",
    "lineNumber": 56
  },
  {
    "__docId__": 464,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it8",
    "testId": 8,
    "memberof": "spec/server/app-js-converter.spec.js~describe2",
    "testDepth": 1,
    "longname": "spec/server/app-js-converter.spec.js~describe2.it8",
    "access": null,
    "description": "converts variable declarations with LF",
    "lineNumber": 66
  },
  {
    "__docId__": 465,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it9",
    "testId": 9,
    "memberof": "spec/server/app-js-converter.spec.js~describe2",
    "testDepth": 1,
    "longname": "spec/server/app-js-converter.spec.js~describe2.it9",
    "access": null,
    "description": "converts variable declarations with LF",
    "lineNumber": 81
  },
  {
    "__docId__": 466,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it10",
    "testId": 10,
    "memberof": "spec/server/app-js-converter.spec.js~describe2",
    "testDepth": 1,
    "longname": "spec/server/app-js-converter.spec.js~describe2.it10",
    "access": null,
    "description": "converts variable declaration containing multi-byte characters",
    "lineNumber": 93
  },
  {
    "__docId__": 467,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "spec/server/file-watcher.spec.js",
    "memberof": null,
    "longname": "spec/server/file-watcher.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport assert from 'power-assert'\nimport FileWatcher from '../../src/server/file-watcher'\n\n\ndescribe('FileWatcher', ()=> {\n\n    let watcher;\n\n    beforeEach(() => {\n        watcher = new FileWatcher(__dirname)\n    })\n\n    afterEach(() => {\n        watcher.close()\n    })\n\n    it('watching is false when \"watch\" has not been called yet', ()=> {\n\n        assert(watcher.watching === false)\n    })\n\n    it('watching is false when \"watch\" has just been called', ()=> {\n\n        watcher.watch()\n        assert(watcher.watching === false)\n    })\n\n    it('watching is true when \"watch\" has been called 1000msec ago', ()=> {\n\n        watcher.watch()\n        assert(watcher.watching === false)\n\n        return new Promise(y => {\n            setTimeout(x => {\n                assert(watcher.watching === true)\n                y()\n            }, 1000)\n        })\n    })\n\n\n})\n\n"
  },
  {
    "__docId__": 468,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe11",
    "testId": 11,
    "memberof": "spec/server/file-watcher.spec.js",
    "testDepth": 0,
    "longname": "spec/server/file-watcher.spec.js~describe11",
    "access": null,
    "description": "FileWatcher",
    "lineNumber": 6
  },
  {
    "__docId__": 469,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it12",
    "testId": 12,
    "memberof": "spec/server/file-watcher.spec.js~describe11",
    "testDepth": 1,
    "longname": "spec/server/file-watcher.spec.js~describe11.it12",
    "access": null,
    "description": "watching is false when \"watch\" has not been called yet",
    "lineNumber": 18
  },
  {
    "__docId__": 470,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it13",
    "testId": 13,
    "memberof": "spec/server/file-watcher.spec.js~describe11",
    "testDepth": 1,
    "longname": "spec/server/file-watcher.spec.js~describe11.it13",
    "access": null,
    "description": "watching is false when \"watch\" has just been called",
    "lineNumber": 23
  },
  {
    "__docId__": 471,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it14",
    "testId": 14,
    "memberof": "spec/server/file-watcher.spec.js~describe11",
    "testDepth": 1,
    "longname": "spec/server/file-watcher.spec.js~describe11.it14",
    "access": null,
    "description": "watching is true when \"watch\" has been called 1000msec ago",
    "lineNumber": 29
  },
  {
    "__docId__": 472,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "spec/titanium/faster-titanium.spec.js",
    "memberof": null,
    "longname": "spec/titanium/faster-titanium.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport assert from 'power-assert'\nimport FasterTitanium from '../../src/titanium/faster-titanium'\nimport './ti-shim'\n\n\ndescribe('FasterTitanium', ()=> {\n\n    before(() => {\n        FasterTitanium.run(global)\n    })\n\n    it('sets instance of FasterTitanium to FasterTitanium.instance', ()=> {\n\n        assert(FasterTitanium.instance instanceof FasterTitanium)\n    })\n})\n"
  },
  {
    "__docId__": 473,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe15",
    "testId": 15,
    "memberof": "spec/titanium/faster-titanium.spec.js",
    "testDepth": 0,
    "longname": "spec/titanium/faster-titanium.spec.js~describe15",
    "access": null,
    "description": "FasterTitanium",
    "lineNumber": 7
  },
  {
    "__docId__": 474,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it16",
    "testId": 16,
    "memberof": "spec/titanium/faster-titanium.spec.js~describe15",
    "testDepth": 1,
    "longname": "spec/titanium/faster-titanium.spec.js~describe15.it16",
    "access": null,
    "description": "sets instance of FasterTitanium to FasterTitanium.instance",
    "lineNumber": 13
  },
  {
    "__docId__": 475,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "spec/titanium/module.spec.js",
    "memberof": null,
    "longname": "spec/titanium/module.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport assert from 'power-assert'\nimport Module from '../../src/titanium/module'\nimport './ti-shim'\n\n\ndescribe('Module', ()=> {\n\n    it('__dirname is undefined when moduleName is \"app\"', ()=> {\n\n        assert(new Module('app').__dirname === undefined)\n    })\n\n\n    it('__filename is undefined when moduleName is \"app\"', ()=> {\n\n        assert(new Module('app').__filename === undefined)\n    })\n\n\n    it('__dirname is \".\" when moduleName is \"alloy\"', ()=> {\n\n        assert(new Module('alloy').__dirname === '.')\n    })\n\n\n    it('__dirname is \"alloy\" when moduleName is \"alloy/underscore\"', ()=> {\n\n        assert(new Module('alloy/underscore').__dirname === 'alloy')\n    })\n\n\n    it('__dirname is \"alloy/controllers\" when moduleName is \"alloy/controllers/index\"', ()=> {\n\n        assert(new Module('alloy/controllers/index').__dirname === 'alloy/controllers')\n    })\n\n\n    it('__filename is \"alloy\" when moduleName is \"alloy\"', ()=> {\n\n        assert(new Module('alloy').__filename === 'alloy')\n    })\n\n\n    it('__filename is \"underscore\" when moduleName is \"alloy/underscore\"', ()=> {\n\n        assert(new Module('alloy/underscore').__filename === 'underscore')\n    })\n\n\n    it('__filename is \"index\" when moduleName is \"alloy/controllers/index\"', ()=> {\n\n        assert(new Module('alloy/controllers/index').__filename === 'index')\n    })\n\n\n\n})\n"
  },
  {
    "__docId__": 476,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe17",
    "testId": 17,
    "memberof": "spec/titanium/module.spec.js",
    "testDepth": 0,
    "longname": "spec/titanium/module.spec.js~describe17",
    "access": null,
    "description": "Module",
    "lineNumber": 7
  },
  {
    "__docId__": 477,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it18",
    "testId": 18,
    "memberof": "spec/titanium/module.spec.js~describe17",
    "testDepth": 1,
    "longname": "spec/titanium/module.spec.js~describe17.it18",
    "access": null,
    "description": "__dirname is undefined when moduleName is \"app\"",
    "lineNumber": 9
  },
  {
    "__docId__": 478,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it19",
    "testId": 19,
    "memberof": "spec/titanium/module.spec.js~describe17",
    "testDepth": 1,
    "longname": "spec/titanium/module.spec.js~describe17.it19",
    "access": null,
    "description": "__filename is undefined when moduleName is \"app\"",
    "lineNumber": 15
  },
  {
    "__docId__": 479,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it20",
    "testId": 20,
    "memberof": "spec/titanium/module.spec.js~describe17",
    "testDepth": 1,
    "longname": "spec/titanium/module.spec.js~describe17.it20",
    "access": null,
    "description": "__dirname is \".\" when moduleName is \"alloy\"",
    "lineNumber": 21
  },
  {
    "__docId__": 480,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it21",
    "testId": 21,
    "memberof": "spec/titanium/module.spec.js~describe17",
    "testDepth": 1,
    "longname": "spec/titanium/module.spec.js~describe17.it21",
    "access": null,
    "description": "__dirname is \"alloy\" when moduleName is \"alloy/underscore\"",
    "lineNumber": 27
  },
  {
    "__docId__": 481,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it22",
    "testId": 22,
    "memberof": "spec/titanium/module.spec.js~describe17",
    "testDepth": 1,
    "longname": "spec/titanium/module.spec.js~describe17.it22",
    "access": null,
    "description": "__dirname is \"alloy/controllers\" when moduleName is \"alloy/controllers/index\"",
    "lineNumber": 33
  },
  {
    "__docId__": 482,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it23",
    "testId": 23,
    "memberof": "spec/titanium/module.spec.js~describe17",
    "testDepth": 1,
    "longname": "spec/titanium/module.spec.js~describe17.it23",
    "access": null,
    "description": "__filename is \"alloy\" when moduleName is \"alloy\"",
    "lineNumber": 39
  },
  {
    "__docId__": 483,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it24",
    "testId": 24,
    "memberof": "spec/titanium/module.spec.js~describe17",
    "testDepth": 1,
    "longname": "spec/titanium/module.spec.js~describe17.it24",
    "access": null,
    "description": "__filename is \"underscore\" when moduleName is \"alloy/underscore\"",
    "lineNumber": 45
  },
  {
    "__docId__": 484,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it25",
    "testId": 25,
    "memberof": "spec/titanium/module.spec.js~describe17",
    "testDepth": 1,
    "longname": "spec/titanium/module.spec.js~describe17.it25",
    "access": null,
    "description": "__filename is \"index\" when moduleName is \"alloy/controllers/index\"",
    "lineNumber": 51
  },
  {
    "__docId__": 485,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "spec/titanium/require-agent.spec.js",
    "memberof": null,
    "longname": "spec/titanium/require-agent.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport assert from 'power-assert'\nimport RequireAgent from '../../src/titanium/require-agent'\nimport {relativePath} from '../../src/titanium/require-agent'\n\ndescribe('RequireAgent', ()=> {\n\n    describe('createModule', ()=> {\n\n        it('creates module from source', ()=> {\n\n            const reqAgent = new RequireAgent(require, 'localhost', 3000)\n\n            const source = `\n                module.exports = function(a) { return a + ' faster titanium' }\n            `\n\n            const mod = reqAgent.createModule('sample1', source)\n\n            assert(typeof mod.exports === 'function')\n            assert(mod.exports('shinout is developing') === 'shinout is developing faster titanium')\n        })\n\n\n        it('creates module from source with __dirname and __filename variables', ()=> {\n\n            const reqAgent = new RequireAgent(require, 'localhost', 3000)\n\n            const source = `\n                module.exports = __dirname + ' ' + __filename\n            `\n\n            const mod = reqAgent.createModule('foo/bar', source)\n\n            assert(typeof mod.exports === 'string')\n            assert(mod.exports === 'foo bar')\n        })\n\n\n        it('creates module from source with no exports', ()=> {\n\n            const reqAgent = new RequireAgent(require, 'localhost', 3000)\n\n            const source = `\n                var a = 'faster titanium'\n            `\n\n            const mod = reqAgent.createModule('sample1', source)\n\n            assert(typeof mod.exports === 'object')\n            assert(Object.keys(mod.exports).length === 0)\n        })\n\n\n\n        it('cannot create module from source with syntax error', ()=> {\n\n            const reqAgent = new RequireAgent(require, 'localhost', 3000)\n\n            const source = `\n                var a = 'faster titanium\n            `\n\n            try {\n                const mod = reqAgent.createModule('sample1', source)\n                throw new Error('shouldnt be occurred')\n            }\n            catch (e) {\n                assert(e.message.match(/Unexpected token ILLEGAL/))\n            }\n        })\n    })\n\n\n\n    describe('require', ()=> {\n\n        it('require from server when not cached.', ()=> {\n\n            const reqAgent = new RequireAgent(require, 'localhost', 3000)\n\n\n            reqAgent.getServerSource = (name) => `module.exports = \"${name}\"` // mocking\n\n            const result = reqAgent.require('shinout-module')\n\n            assert(result === 'shinout-module')\n            assert(reqAgent.modules['shinout-module'])\n        })\n\n\n        it('require from cache when cached.', ()=> {\n\n            const reqAgent = new RequireAgent(require, 'localhost', 3000)\n\n            let counter = 0\n\n            reqAgent.getServerSource = (name) => {\n                counter++\n                return `module.exports = \"${name}\"` // mocking\n            }\n\n            reqAgent.require('shinout-module')\n            assert(counter === 1)\n\n            const cachedResult = reqAgent.require('shinout-module')\n            assert(counter === 1)\n            assert(cachedResult === 'shinout-module')\n        })\n\n\n    })\n    describe('relativePath', ()=> {\n\n        it('resolves relative path with ./', ()=> {\n            const absPath = relativePath('alloy/controller/index', './constants')\n            assert(absPath === 'alloy/controller/constants')\n        })\n\n        it('resolves relative path with a ../', ()=> {\n            const absPath = relativePath('alloy/controller/index', '../constants')\n            assert(absPath === 'alloy/constants')\n        })\n\n\n        it('resolves relative path which ends with /', ()=> {\n            const absPath = relativePath('alloy/controller/index', '../constants/')\n            assert(absPath === 'alloy/constants/')\n        })\n\n        it('resolves relative path with ./s and ../s', ()=> {\n            const absPath = relativePath('alloy/controller/index', '../././constants')\n            assert(absPath === 'alloy/constants')\n        })\n\n        it('resolves relative path with many ../s', ()=> {\n            const absPath = relativePath('alloy/controller/index', '../../constants')\n            assert(absPath === 'constants')\n        })\n\n        it('cannot resolve relative path when fromPath contains too many ../s', ()=> {\n            try {\n                const absPath = relativePath('alloy/controller/index', '../../../constants')\n                throw new Error('')\n            }\n            catch (e) {\n                assert(e.message === `cannot resolve relative path. from: alloy/controller/index, to: ../../../constants`)\n            }\n        })\n\n\n    })\n})\n"
  },
  {
    "__docId__": 486,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe26",
    "testId": 26,
    "memberof": "spec/titanium/require-agent.spec.js",
    "testDepth": 0,
    "longname": "spec/titanium/require-agent.spec.js~describe26",
    "access": null,
    "description": "RequireAgent",
    "lineNumber": 6
  },
  {
    "__docId__": 487,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe27",
    "testId": 27,
    "memberof": "spec/titanium/require-agent.spec.js~describe26",
    "testDepth": 1,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe27",
    "access": null,
    "description": "createModule",
    "lineNumber": 8
  },
  {
    "__docId__": 488,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it28",
    "testId": 28,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe27",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe27.it28",
    "access": null,
    "description": "creates module from source",
    "lineNumber": 10
  },
  {
    "__docId__": 489,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it29",
    "testId": 29,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe27",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe27.it29",
    "access": null,
    "description": "creates module from source with __dirname and __filename variables",
    "lineNumber": 25
  },
  {
    "__docId__": 490,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it30",
    "testId": 30,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe27",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe27.it30",
    "access": null,
    "description": "creates module from source with no exports",
    "lineNumber": 40
  },
  {
    "__docId__": 491,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it31",
    "testId": 31,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe27",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe27.it31",
    "access": null,
    "description": "cannot create module from source with syntax error",
    "lineNumber": 56
  },
  {
    "__docId__": 492,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe32",
    "testId": 32,
    "memberof": "spec/titanium/require-agent.spec.js~describe26",
    "testDepth": 1,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe32",
    "access": null,
    "description": "require",
    "lineNumber": 76
  },
  {
    "__docId__": 493,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it33",
    "testId": 33,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe32",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe32.it33",
    "access": null,
    "description": "require from server when not cached.",
    "lineNumber": 78
  },
  {
    "__docId__": 494,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it34",
    "testId": 34,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe32",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe32.it34",
    "access": null,
    "description": "require from cache when cached.",
    "lineNumber": 92
  },
  {
    "__docId__": 495,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe35",
    "testId": 35,
    "memberof": "spec/titanium/require-agent.spec.js~describe26",
    "testDepth": 1,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe35",
    "access": null,
    "description": "relativePath",
    "lineNumber": 113
  },
  {
    "__docId__": 496,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it36",
    "testId": 36,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe35",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe35.it36",
    "access": null,
    "description": "resolves relative path with ./",
    "lineNumber": 115
  },
  {
    "__docId__": 497,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it37",
    "testId": 37,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe35",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe35.it37",
    "access": null,
    "description": "resolves relative path with a ../",
    "lineNumber": 120
  },
  {
    "__docId__": 498,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it38",
    "testId": 38,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe35",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe35.it38",
    "access": null,
    "description": "resolves relative path which ends with /",
    "lineNumber": 126
  },
  {
    "__docId__": 499,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it39",
    "testId": 39,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe35",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe35.it39",
    "access": null,
    "description": "resolves relative path with ./s and ../s",
    "lineNumber": 131
  },
  {
    "__docId__": 500,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it40",
    "testId": 40,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe35",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe35.it40",
    "access": null,
    "description": "resolves relative path with many ../s",
    "lineNumber": 136
  },
  {
    "__docId__": 501,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it41",
    "testId": 41,
    "memberof": "spec/titanium/require-agent.spec.js~describe26.describe35",
    "testDepth": 2,
    "longname": "spec/titanium/require-agent.spec.js~describe26.describe35.it41",
    "access": null,
    "description": "cannot resolve relative path when fromPath contains too many ../s",
    "lineNumber": 141
  },
  {
    "__docId__": 502,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "spec/titanium/socket.spec.js",
    "memberof": null,
    "longname": "spec/titanium/socket.spec.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "\nimport assert from 'power-assert'\nimport Socket from '../../src/titanium/socket'\nimport './ti-shim'\n\n\ndescribe('Socket', ()=> {\n\n    it('connectionListener is called when connected', ()=> {\n\n        const socket = new Socket({host: 'localhost', port: 4156})\n        const { connected } = socket.proxy // mock\n\n        let counter = 0\n        socket.connectionListener = (v) => counter++\n\n        connected({socket: {}})\n\n        assert(counter === 1)\n    })\n\n\n    it('dataListener is attached by onData method', ()=> {\n\n        const socket = new Socket({host: 'localhost', port: 4156})\n        socket.onData((v) => v)\n        assert(typeof socket.dataListener === 'function')\n\n    })\n\n})\n"
  },
  {
    "__docId__": 503,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe42",
    "testId": 42,
    "memberof": "spec/titanium/socket.spec.js",
    "testDepth": 0,
    "longname": "spec/titanium/socket.spec.js~describe42",
    "access": null,
    "description": "Socket",
    "lineNumber": 7
  },
  {
    "__docId__": 504,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it43",
    "testId": 43,
    "memberof": "spec/titanium/socket.spec.js~describe42",
    "testDepth": 1,
    "longname": "spec/titanium/socket.spec.js~describe42.it43",
    "access": null,
    "description": "connectionListener is called when connected",
    "lineNumber": 9
  },
  {
    "__docId__": 505,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it44",
    "testId": 44,
    "memberof": "spec/titanium/socket.spec.js~describe42",
    "testDepth": 1,
    "longname": "spec/titanium/socket.spec.js~describe42.it44",
    "access": null,
    "description": "dataListener is attached by onData method",
    "lineNumber": 23
  }
]